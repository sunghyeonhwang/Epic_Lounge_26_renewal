# Epic Lounge v3 Renewal - Contents ë¦¬ë‰´ì–¼ ë¬¸ì„œ

> **ì‘ì„±ì¼**: 2026-02-05
> **ë²”ìœ„**: `contents/` í”„ë¡ íŠ¸ì—”ë“œ í˜ì´ì§€ ì „ì²´ ë¦¬ë‰´ì–¼ (adm/ ì œì™¸)
> **ë„ë©”ì¸**: https://epiclounge.co.kr

---

## 1. í˜„í–‰ Contents ì‹œìŠ¤í…œ ë¶„ì„

### 1.1 í˜ì´ì§€ êµ¬ì„± (25ê°œ íŒŒì¼ â†’ 7ê°œ ê¸°ëŠ¥ ê·¸ë£¹)

| ê·¸ë£¹ | íŒŒì¼ | ì—­í•  |
|------|------|------|
| **ì´ë²¤íŠ¸** | `event_list.php` | ì»¤ë®¤ë‹ˆí‹° ì´ë²¤íŠ¸ ëª©ë¡ (ìƒíƒœ í•„í„°: ì§„í–‰ì¤‘/ì¢…ë£Œ/ê²°ê³¼ë°œí‘œ) |
| | `event_view.php` | ì´ë²¤íŠ¸ ìƒì„¸ (SNS ê³µìœ , ê´€ë ¨ ì´ë²¤íŠ¸) |
| | `event_view_copy.php` | ì´ë²¤íŠ¸ ìƒì„¸ ë³€í˜• (ì°¸ê°€ ì‹ ì²­ ë²„íŠ¼) |
| | `global_event_list.php` | ê¸€ë¡œë²Œ ì´ë²¤íŠ¸ ëª©ë¡ |
| | `global_event_view.php` | ê¸€ë¡œë²Œ ì´ë²¤íŠ¸ ìƒì„¸ |
| **ë‹¤ì‹œë³´ê¸°** | `replay.php` | ì˜ìƒ ëª©ë¡ (4ì¤‘ í•„í„°: ì‚°ì—…ë¶„ì•¼/ì œí’ˆêµ°/ì£¼ì œ/ë‚œì´ë„) |
| | `replay_all.php` | ë‹¤ì‹œë³´ê¸° ì „ì²´ ëª©ë¡ (replay.phpì™€ ê±°ì˜ ë™ì¼) |
| | `replay_view.php` | ì˜ìƒ ìƒì„¸ (YouTube ì„ë² ë“œ, PDF ë‹¤ìš´ë¡œë“œ) |
| | `replay_ajax.php` | ì˜ìƒ í•„í„° AJAX ì—”ë“œí¬ì¸íŠ¸ |
| **ë‰´ìŠ¤** | `news_list.php` | ë‰´ìŠ¤ ëª©ë¡ (ì¹´í…Œê³ ë¦¬: ë‰´ìŠ¤/ì—…ë°ì´íŠ¸/ë¸”ë¡œê·¸) |
| | `news_view.php` | ë‰´ìŠ¤ ìƒì„¸ (íƒœê·¸, ê´€ë ¨ ë‰´ìŠ¤) |
| | `news_ajax.php` | ë‰´ìŠ¤ í•„í„° AJAX ì—”ë“œí¬ì¸íŠ¸ |
| **ë¬´ë£Œì½˜í…ì¸ ** | `free.php` | ë¬´ë£Œ ë¦¬ì†ŒìŠ¤ ëª©ë¡ (3ì¤‘ í•„í„°: ì‚°ì—…ë¶„ì•¼/ì—”ì§„ë²„ì „/ì¹´í…Œê³ ë¦¬) |
| | `free_view.php` | ë¬´ë£Œì½˜í…ì¸  ìƒì„¸ (YouTube, ì™¸ë¶€ë§í¬) |
| | `free_ajax.php` | ë¬´ë£Œì½˜í…ì¸  í•„í„° AJAX ì—”ë“œí¬ì¸íŠ¸ |
| | `free copy.php` | ë°±ì—… íŒŒì¼ (ì‚­ì œ ëŒ€ìƒ) |
| **ë°±ì„œ** | `book.php` | ë°±ì„œ ëª©ë¡ (1ì¤‘ í•„í„°: ì‚°ì—…ë¶„ì•¼) |
| | `book_view.php` | ë°±ì„œ ìƒì„¸ (YouTube, ì™¸ë¶€ë§í¬) |
| | `book_ajax.php` | ë°±ì„œ í•„í„° AJAX ì—”ë“œí¬ì¸íŠ¸ |
| **í†µí•©ê²€ìƒ‰** | `total_search.php` | ìƒˆì†Œì‹+ì´ë²¤íŠ¸+ë¦¬ì†ŒìŠ¤ í†µí•© ê²€ìƒ‰ |
| | `total_search_ajax_news.php` | ë‰´ìŠ¤ ê²€ìƒ‰ AJAX |
| | `total_search_ajax_event.php` | ì´ë²¤íŠ¸ ê²€ìƒ‰ AJAX |
| | `total_search_ajax_rsc.php` | ë¦¬ì†ŒìŠ¤ ê²€ìƒ‰ AJAX (ì˜ìƒ+ë¬´ë£Œ+ë°±ì„œ í•©ì‚°) |
| **ì •ì í˜ì´ì§€** | `personal.php` | ê°œì¸ì •ë³´ë³´í˜¸ì •ì±… |
| | `ode.php` | ì´ìš©ì•½ê´€ |

---

### 1.2 í˜„í–‰ DB ìŠ¤í‚¤ë§ˆ

#### ì½˜í…ì¸  í…Œì´ë¸” (6ê°œ)

```
v3_rsc_event_bbs        â† ì»¤ë®¤ë‹ˆí‹° ì´ë²¤íŠ¸
v3_rsc_global_event_bbs â† ê¸€ë¡œë²Œ ì´ë²¤íŠ¸
v3_rsc_news_bbs         â† ë‰´ìŠ¤
v3_rsc_review_bbs       â† ë‹¤ì‹œë³´ê¸° ì˜ìƒ
v3_rsc_free_bbs         â† ë¬´ë£Œ ì½˜í…ì¸ 
v3_rsc_book_bbs         â† ë°±ì„œ
```

#### ì¹´í…Œê³ ë¦¬ í…Œì´ë¸” (3ê°œ)

```
v3_rsc_review_category  â† ì˜ìƒ ì¹´í…Œê³ ë¦¬ (ì‚°ì—…ë¶„ì•¼, ì œí’ˆêµ°, ì£¼ì œ, ë‚œì´ë„)
v3_rsc_free_category    â† ë¬´ë£Œì½˜í…ì¸  ì¹´í…Œê³ ë¦¬ (ì‚°ì—…ë¶„ì•¼, ì—”ì§„ë²„ì „, ì¹´í…Œê³ ë¦¬)
v3_rsc_book_category    â† ë°±ì„œ ì¹´í…Œê³ ë¦¬ (ì‚°ì—…ë¶„ì•¼)
```

#### ë¶€ê°€ í…Œì´ë¸”

```
v3_shop_banner          â† ë°°ë„ˆ (positionë³„: ë‹¤ì‹œë³´ê¸°, ë¬´ë£Œì½˜í…ì¸ , ë°±ì„œ)
v3_seo_config           â† SEO/ë§ˆì¼€íŒ… ì„¤ì •
v3_main_banner_news     â† ë©”ì¸ ìƒˆì†Œì‹
v3_main_banner_rsc      â† ë©”ì¸ ë¦¬ì†ŒìŠ¤
```

#### ê³µí†µ í•„ë“œ êµ¬ì¡°

```sql
-- ëª¨ë“  ì½˜í…ì¸  í…Œì´ë¸” ê³µí†µ
rsc_bbs_idx     INT AUTO_INCREMENT  -- PK
title           VARCHAR              -- ì œëª©
contents        TEXT                 -- ë³¸ë¬¸ (HTML)
thumb_img       VARCHAR              -- ì¸ë„¤ì¼ íŒŒì¼ëª… (G5_DATA_PATH ê¸°ì¤€)
thumb_img_url   VARCHAR              -- ì™¸ë¶€ ì¸ë„¤ì¼ URL
top_bbs_img     VARCHAR              -- ìƒë‹¨ ë°°ê²½ ì´ë¯¸ì§€
display_yn      CHAR(1)              -- ë…¸ì¶œ ì—¬ë¶€ (Y/N)
ordr            INT                  -- ì •ë ¬ ìˆœì„œ
reg_date        DATETIME             -- ë“±ë¡ì¼

-- ì´ë²¤íŠ¸ ì „ìš©
status          VARCHAR              -- ì§„í–‰ì¤‘/ì¢…ë£Œ/ê²°ê³¼ë°œí‘œ
category        VARCHAR              -- ì´ë²¤íŠ¸ ì¹´í…Œê³ ë¦¬
sdate, edate    DATE                 -- ì‹œì‘/ì¢…ë£Œì¼
add_btn_yn      CHAR(1)              -- ë²„íŠ¼ ë…¸ì¶œ ì—¬ë¶€
add_btn_url     VARCHAR              -- ë²„íŠ¼ ë§í¬
doc_file        VARCHAR              -- ì²¨ë¶€íŒŒì¼

-- ë¦¬ì†ŒìŠ¤(ì˜ìƒ/ë¬´ë£Œ/ë°±ì„œ) ì „ìš©
youtube_url     VARCHAR              -- YouTube URL
pdf_url         VARCHAR              -- PDF ë‹¤ìš´ë¡œë“œ ë§í¬
site_url        VARCHAR              -- ì™¸ë¶€ ë§í¬
speker          VARCHAR              -- ë°œí‘œì
event_title     VARCHAR              -- ê´€ë ¨ ì´ë²¤íŠ¸ ì œëª©
event_year      VARCHAR              -- ì´ë²¤íŠ¸ ì—°ë„
tag             VARCHAR              -- íƒœê·¸ (ì‰¼í‘œ êµ¬ë¶„)

-- ì¹´í…Œê³ ë¦¬ í•„í„° í•„ë“œ
cate_industry   VARCHAR              -- ì‚°ì—…ë¶„ì•¼
cate_product    VARCHAR              -- ì œí’ˆêµ°
cate_subject    VARCHAR              -- ì£¼ì œ
cate_difficult  VARCHAR              -- ë‚œì´ë„
cate_engine     VARCHAR              -- ì—”ì§„ë²„ì „
```

---

### 1.3 í˜„í–‰ ë¬¸ì œì 

| êµ¬ë¶„ | ë¬¸ì œ | ì˜í–¥ |
|------|------|------|
| **ì½”ë“œ ì¤‘ë³µ** | `replay.php`ì™€ `replay_all.php`ê°€ 99% ë™ì¼ | ìœ ì§€ë³´ìˆ˜ 2ë°° |
| **ì½”ë“œ ì¤‘ë³µ** | `event_view.php`ì™€ `event_view_copy.php` ê±°ì˜ ë™ì¼ | ë²„íŠ¼ í…ìŠ¤íŠ¸ë§Œ ë‹¤ë¦„ |
| **ì½”ë“œ ì¤‘ë³µ** | `event_list`ì™€ `global_event_list` êµ¬ì¡° ë™ì¼ | í…Œì´ë¸”ëª…ë§Œ ë‹¤ë¦„ |
| **ì½”ë“œ ì¤‘ë³µ** | `replay`, `free`, `book` ëª©ë¡ í˜ì´ì§€ êµ¬ì¡° ë™ì¼ | í•„í„° ì¢…ë¥˜ë§Œ ë‹¤ë¦„ |
| **ë³´ì•ˆ** | SQL ì§ì ‘ ì¡°í•© (`$_GET`, `$_REQUEST` ì§ì ‘ ì‚¬ìš©) | SQL Injection ìœ„í—˜ |
| **ë³´ì•ˆ** | AJAX ì—”ë“œí¬ì¸íŠ¸ ìš”ì²­ ê²€ì¦ ì—†ìŒ (Referer/XHR ë¯¸í™•ì¸) | ì™¸ë¶€ ì§ì ‘ í˜¸ì¶œ ê°€ëŠ¥ |
| **ë³´ì•ˆ** | ì‚¬ìš©ì ì…ë ¥ê°’ ë¯¸ì´ìŠ¤ì¼€ì´í”„ ì¶œë ¥ | XSS ìœ„í—˜ |
| **êµ¬ì¡°** | HTML + PHP + JSê°€ ë‹¨ì¼ íŒŒì¼ì— í˜¼ì¬ | ë¶„ë¦¬ ë¶ˆê°€ |
| **êµ¬ì¡°** | ê° í˜ì´ì§€ë§ˆë‹¤ DB ì¿¼ë¦¬ ì§ì ‘ ì‘ì„± | ì¼ê´€ì„± ì—†ìŒ |
| **ë¶ˆí•„ìš”** | `free copy.php` ë°±ì—… íŒŒì¼ ì¡´ì¬ | ì •ë¦¬ í•„ìš” |

---

### 1.4 í˜„í–‰ UI/UX íŒ¨í„´

ëª¨ë“  ë¦¬ì†ŒìŠ¤ ëª©ë¡ í˜ì´ì§€ê°€ ê³µìœ í•˜ëŠ” ê³µí†µ íŒ¨í„´:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ë°°ë„ˆ ìŠ¬ë¼ì´ë“œ (Slick)]            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì‚¬ì´ë“œë°”  â”‚  ì½˜í…ì¸  ì˜ì—­             â”‚
â”‚          â”‚                          â”‚
â”‚ â–¡ í•„í„°1  â”‚  ğŸ” í‚¤ì›Œë“œ ê²€ìƒ‰           â”‚
â”‚ â–¡ í•„í„°2  â”‚  [ë¦¬ìŠ¤íŠ¸ë·°] [ê°¤ëŸ¬ë¦¬ë·°]    â”‚
â”‚ â–¡ í•„í„°3  â”‚                          â”‚
â”‚          â”‚  â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â”         â”‚
â”‚ (sticky) â”‚  â”‚  â”‚ â”‚  â”‚ â”‚  â”‚  ì¹´ë“œ    â”‚
â”‚          â”‚  â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜         â”‚
â”‚          â”‚                          â”‚
â”‚          â”‚  [ë”ë³´ê¸°] ë²„íŠ¼            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ë¦¬ë‰´ì–¼ ì„¤ê³„

### 2.1 íŒŒì¼ ì •ë¦¬ ê³„íš

#### ì•ˆì „í•œ ì¤‘ë³µ ì œê±° (ê°™ì€ í…Œì´ë¸”, ë¯¸ì„¸í•œ ì°¨ì´ë§Œ ìˆëŠ” ê²ƒ)

| í˜„í–‰ | ë¦¬ë‰´ì–¼ | ì‚¬ìœ  |
|------|--------|------|
| `replay.php` + `replay_all.php` | â†’ `replay_list.php` 1ê°œ | 99% ë™ì¼, ë¼ë²¨ë§Œ ë‹¤ë¦„. ë¶„ë¦¬ ìœ ì§€ ì‹œ í•œìª½ë§Œ ìˆ˜ì •í•˜ëŠ” ì‹¤ìˆ˜ ìœ„í—˜ |
| `event_view.php` + `event_view_copy.php` | â†’ `event_view.php` 1ê°œ | ë²„íŠ¼ í…ìŠ¤íŠ¸ 1ì¤„ë§Œ ë‹¤ë¦„. DB í•„ë“œë¡œ ë¶„ê¸° |
| `free.php` + `free copy.php` | â†’ `free_list.php` 1ê°œ | `free copy.php`ëŠ” ë°±ì—… íŒŒì¼, ì‚­ì œ |

#### ë¶„ë¦¬ ìœ ì§€ (DB í…Œì´ë¸”ì´ ë‹¤ë¥¸ ê²ƒ)

| íŒŒì¼ | ìœ ì§€ ì´ìœ  |
|------|-----------|
| `event_list.php` â‰  `global_event_list.php` | ì„œë¡œ ë‹¤ë¥¸ í…Œì´ë¸” ì¡°íšŒ. í†µí•© ì‹œ ì¡°ê±´ë¬¸ ë²„ê·¸ ìœ„í—˜ |
| `event_view.php` â‰  `global_event_view.php` | ë™ì¼. ë°ì´í„° ì†ŒìŠ¤ê°€ ë‹¤ë¥´ë©´ ë¶„ë¦¬ê°€ ì•ˆì „ |

#### AJAX íŒŒì¼ ë¶„ë¦¬ ìœ ì§€ (ì¥ì•  ê²©ë¦¬)

AJAX íŒŒì¼ì€ **í†µí•©í•˜ì§€ ì•Šê³  íŒŒì¼ë³„ ë¶„ë¦¬ë¥¼ ìœ ì§€**í•œë‹¤.
í•˜ë‚˜ì˜ íŒŒì¼ì— ë²„ê·¸ê°€ ìƒê²¨ë„ ë‹¤ë¥¸ ê¸°ëŠ¥ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ” **ì¥ì•  ê²©ë¦¬** ì›ì¹™.

```
replay_ajax.php ì— ë²„ê·¸ â†’ ì˜ìƒë§Œ ì•ˆë¨, ë‰´ìŠ¤/ë°±ì„œëŠ” ì •ìƒ
news_ajax.php ì— ë²„ê·¸   â†’ ë‰´ìŠ¤ë§Œ ì•ˆë¨, ë‚˜ë¨¸ì§€ ì •ìƒ
```

### 2.2 ë¦¬ë‰´ì–¼ íŒŒì¼ êµ¬ì¡°

ê¸°ì¡´ ë ˆê±°ì‹œ íŒŒì¼ì„ ë®ì–´ì“°ì§€ ì•Šë„ë¡, ë¦¬ë‰´ì–¼ íŒŒì¼ì€ **`contents/v4/`** ë””ë ‰í† ë¦¬ì— ë³„ë„ ìƒì„±í•œë‹¤.
ê¸°ì¡´ ì‚¬ì´íŠ¸ëŠ” `contents/*.php`ë¡œ ê·¸ëŒ€ë¡œ ìš´ì˜í•˜ë©´ì„œ, ë¦¬ë‰´ì–¼ì€ `contents/v4/`ì—ì„œ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•œë‹¤.

```
contents/                        â† ê¸°ì¡´ ë ˆê±°ì‹œ (ë¼ì´ë¸Œ ìš´ì˜, ì†ëŒ€ì§€ ì•ŠìŒ)
â”œâ”€â”€ event_list.php
â”œâ”€â”€ event_view.php
â”œâ”€â”€ replay.php
â”œâ”€â”€ ...
â”‚
contents/v4/                     â† ë¦¬ë‰´ì–¼ ì‹ ê·œ (í…ŒìŠ¤íŠ¸ â†’ ê²€ì¦ í›„ êµì²´)
â”‚
â”œâ”€â”€ event_list.php               # ì´ë²¤íŠ¸ ëª©ë¡ (ì»¤ë®¤ë‹ˆí‹°+ê¸€ë¡œë²Œ íƒ­ í†µí•©)
â”œâ”€â”€ event_view.php               # ì´ë²¤íŠ¸ ìƒì„¸ (ì»¤ë®¤ë‹ˆí‹°+ê¸€ë¡œë²Œ type íŒŒë¼ë¯¸í„° í†µí•©)
â”‚
â”œâ”€â”€ replay_list.php              # ì˜ìƒ ëª©ë¡ (replay + replay_all í†µí•©)
â”œâ”€â”€ replay_view.php              # ì˜ìƒ ìƒì„¸
â”‚
â”œâ”€â”€ news_list.php                # ë‰´ìŠ¤ ëª©ë¡
â”œâ”€â”€ news_view.php                # ë‰´ìŠ¤ ìƒì„¸
â”‚
â”œâ”€â”€ free_list.php                # ë¬´ë£Œì½˜í…ì¸  ëª©ë¡
â”œâ”€â”€ free_view.php                # ë¬´ë£Œì½˜í…ì¸  ìƒì„¸
â”‚
â”œâ”€â”€ book_list.php                # ë°±ì„œ ëª©ë¡
â”œâ”€â”€ book_view.php                # ë°±ì„œ ìƒì„¸
â”‚
â”œâ”€â”€ total_search.php             # í†µí•© ê²€ìƒ‰ (5ê°œ í…Œì´ë¸” ë™ì‹œ)
â”‚
â”œâ”€â”€ personal.php                 # ê°œì¸ì •ë³´ë³´í˜¸ì •ì±…
â”œâ”€â”€ ode.php                      # ì´ìš©ì•½ê´€
â”‚
â””â”€â”€ ajax/                        # AJAX ì—”ë“œí¬ì¸íŠ¸ (íŒŒì¼ë³„ ë¶„ë¦¬ ìœ ì§€)
    â”œâ”€â”€ event.ajax.php           # ì´ë²¤íŠ¸ í•„í„° (ì»¤ë®¤ë‹ˆí‹°+ê¸€ë¡œë²Œ ë¶„ê¸°)
    â”œâ”€â”€ replay.ajax.php          # ì˜ìƒ í•„í„°
    â”œâ”€â”€ news.ajax.php            # ë‰´ìŠ¤ í•„í„°
    â”œâ”€â”€ free.ajax.php            # ë¬´ë£Œì½˜í…ì¸  í•„í„°
    â”œâ”€â”€ book.ajax.php            # ë°±ì„œ í•„í„°
    â””â”€â”€ search.ajax.php          # í†µí•© ê²€ìƒ‰ (5ê°œ í…Œì´ë¸” ë™ì‹œ)
```

#### ìš´ì˜ ì „í™˜ ì ˆì°¨

```
1. contents/v4/ ì—ì„œ ê°œë°œ ë° í…ŒìŠ¤íŠ¸
2. í…ŒìŠ¤íŠ¸ ì™„ë£Œ í›„:
   contents/        â†’ contents/legacy/  (ê¸°ì¡´ ë°±ì—…)
   contents/v4/     â†’ contents/         (ì‹ ê·œë¡œ êµì²´)
3. ë¬¸ì œ ë°œìƒ ì‹œ:
   contents/        â†’ contents/v4/      (ì‹ ê·œ ë¡¤ë°±)
   contents/legacy/ â†’ contents/         (ê¸°ì¡´ ë³µì›)
```

### 2.3 ê³µí†µ ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬

í˜„í–‰ ê° í˜ì´ì§€ì— ì¤‘ë³µë˜ëŠ” ì½”ë“œë¥¼ ê³µí†µ ëª¨ë“ˆë¡œ ì¶”ì¶œ:

```
inc/
â”œâ”€â”€ v4_helpers.php             # v4 ì „ìš© ì•ˆì „ ë˜í¼ (v4_int, v4_str, v4_limit, v4_ajax_guard ë“±)
â”œâ”€â”€ v4_cards.php               # ì¹´ë“œ ë Œë”ë§ (render_event_card, render_resource_card)
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ card_list.php          # ì¹´ë“œ ë¦¬ìŠ¤íŠ¸ ë Œë”ë§ (ë¦¬ìŠ¤íŠ¸ë·°/ê°¤ëŸ¬ë¦¬ë·°)
â”‚   â”œâ”€â”€ sidebar_filter.php     # ì‚¬ì´ë“œë°” í•„í„° (ì²´í¬ë°•ìŠ¤ í•„í„° ê³µí†µ)
â”‚   â”œâ”€â”€ banner_slide.php       # ë°°ë„ˆ ìŠ¬ë¼ì´ë“œ (position íŒŒë¼ë¯¸í„°)
â”‚   â”œâ”€â”€ social_share.php       # SNS ê³µìœ  ë²„íŠ¼ (Twitter, Facebook, Link)
â”‚   â”œâ”€â”€ related_items.php      # ê´€ë ¨ ì½˜í…ì¸  3ê°œ í‘œì‹œ
â”‚   â”œâ”€â”€ pagination.php         # ë”ë³´ê¸° ë²„íŠ¼ / ë¬´í•œ ìŠ¤í¬ë¡¤
â”‚   â””â”€â”€ search_bar.php         # í‚¤ì›Œë“œ ê²€ìƒ‰ë°”
```

#### ì»´í¬ë„ŒíŠ¸ ì¸í„°í˜ì´ìŠ¤ ëª…ì„¸

**`sidebar_filter.php`**
```php
/**
 * ì‚¬ì´ë“œë°” í•„í„° ì»´í¬ë„ŒíŠ¸
 * @param array $filter_groups â€” í•„í„° ê·¸ë£¹ ë°°ì—´
 *   [
 *     ['name' => 'cate_industry', 'label' => 'ì‚°ì—…ë¶„ì•¼', 'table' => 'v3_rsc_review_category', 'field' => 'cate_industry'],
 *     ['name' => 'cate_product',  'label' => 'ì œí’ˆêµ°',   'table' => 'v3_rsc_review_category', 'field' => 'cate_product'],
 *   ]
 * @param string $form_id â€” í¼ ID (AJAX serializeìš©)
 * @param string $ajax_url â€” AJAX ì—”ë“œí¬ì¸íŠ¸ URL
 */
function render_sidebar_filter($filter_groups, $form_id, $ajax_url) {
    // ê° ê·¸ë£¹ë³„ë¡œ DBì—ì„œ ì¹´í…Œê³ ë¦¬ ì˜µì…˜ ì¡°íšŒ â†’ ì²´í¬ë°•ìŠ¤ ë Œë”ë§
}
```

**`card_list.php`**
```php
/**
 * ì¹´ë“œ ë¦¬ìŠ¤íŠ¸ ë Œë”ë§ ì»´í¬ë„ŒíŠ¸
 * @param array $items â€” ì½˜í…ì¸  ë°°ì—´ (sql_fetch_array ê²°ê³¼)
 * @param string $type â€” ì½˜í…ì¸  íƒ€ì… ('event'|'replay'|'news'|'free'|'book')
 * @param string $view_url â€” ìƒì„¸ í˜ì´ì§€ URL íŒ¨í„´
 * @param bool $show_view_toggle â€” ë¦¬ìŠ¤íŠ¸ë·°/ê°¤ëŸ¬ë¦¬ë·° ì „í™˜ ë²„íŠ¼ í‘œì‹œ ì—¬ë¶€
 */
function render_card_list($items, $type, $view_url, $show_view_toggle = true) {
    // ì¹´ë“œ ê·¸ë¦¬ë“œ ë Œë”ë§
    // ì´ë²¤íŠ¸: ìƒíƒœ ë°°ì§€ ì¶”ê°€, ë‰´ìŠ¤: ìƒëŒ€ ì‹œê°„ ì¶”ê°€, ë¦¬ì†ŒìŠ¤: ì¹´í…Œê³ ë¦¬ íƒœê·¸ ì¶”ê°€
}
```

**`related_items.php`**
```php
/**
 * ê´€ë ¨ ì½˜í…ì¸  3ê°œ í‘œì‹œ
 * @param string $table â€” DB í…Œì´ë¸”ëª…
 * @param int $current_idx â€” í˜„ì¬ ê²Œì‹œë¬¼ idx (ì œì™¸ìš©)
 * @param string $view_url â€” ìƒì„¸ í˜ì´ì§€ URL íŒ¨í„´
 * @param int $count â€” í‘œì‹œ ê°œìˆ˜ (ê¸°ë³¸ 3)
 */
function render_related_items($table, $current_idx, $view_url, $count = 3) {
    $current_idx = v4_int($current_idx);
    $sql = "SELECT * FROM {$table} WHERE display_yn='Y'
            AND rsc_bbs_idx <> {$current_idx}
            ORDER BY ABS({$current_idx} - rsc_bbs_idx) LIMIT {$count}";
    // ê´€ë ¨ ì¹´ë“œ ë Œë”ë§
}
```

---

### 2.4 ë³´ì•ˆ ê°œì„ 

> **í•µì‹¬ ì›ì¹™**: GNU Board 5 ë‚´ì¥ DB í•¨ìˆ˜(`sql_query()`, `sql_fetch()`, `sql_real_escape_string()`)ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë˜, v4 ì „ìš© ì•ˆì „ ë˜í¼(`inc/v4_helpers.php`)ë¥¼ ì¶”ê°€í•˜ì—¬ ì¼ê´€ì„±ì„ í™•ë³´í•œë‹¤. PDOëŠ” GNU Boardì™€ í˜¸í™˜ ë¶ˆê°€í•˜ë¯€ë¡œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.

```php
// âŒ í˜„í–‰ (ìœ„í—˜)
$keyword = $_REQUEST["keyword"];
$sql = "SELECT * FROM v3_rsc_news_bbs WHERE title LIKE '%{$keyword}%'";

// âœ… ë¦¬ë‰´ì–¼ (GNU Board ë‚´ì¥ í•¨ìˆ˜ + ì•ˆì „ ë˜í¼)
$keyword = v4_str($_REQUEST["keyword"] ?? '');
$result = sql_fetch("SELECT * FROM v3_rsc_news_bbs
    WHERE title LIKE '%{$keyword}%' AND display_yn = 'Y'");
```

#### AJAX JSON ì‘ë‹µ â€” `json_encode()` ì‚¬ìš©

í˜„í–‰ AJAX íŒŒì¼ë“¤ì€ PHP echoë¡œ JSONì„ ìˆ˜ë™ ìƒì„±(XSS ì·¨ì•½). `json_encode()` ì‚¬ìš©ìœ¼ë¡œ êµì²´:

```php
// âŒ í˜„í–‰ (replay_ajax.php â€” XSS ì·¨ì•½)
?>{"data":[<? for ($j=0; $row=sql_fetch_array($result); $j++) { ?>
    {"title":"<?=$title?>","link":"<?=$link?>"}
<? } ?>]}

// âœ… ë¦¬ë‰´ì–¼
header('Content-Type: application/json; charset=utf-8');
$data = [];
while ($row = sql_fetch_array($result)) {
    $data[] = [
        'id'    => (int)$row['rsc_bbs_idx'],
        'title' => htmlspecialchars($row['title'], ENT_QUOTES, 'UTF-8'),
        'link'  => $link,
        'image' => $bimg_str,
        'category' => array_filter([
            $row['cate_industry'], $row['cate_product'],
            $row['cate_subject'], $row['cate_difficult']
        ])
    ];
}
echo json_encode(['data' => $data], JSON_UNESCAPED_UNICODE);
exit;
```

| í•­ëª© | í˜„í–‰ | ë¦¬ë‰´ì–¼ |
|------|------|--------|
| SQL | ì§ì ‘ ì¡°í•© | GNU Board `sql_*` í•¨ìˆ˜ + `v4_helpers.php` ë˜í¼ |
| ì…ë ¥ ê²€ì¦ | ì—†ìŒ | `v4_str()` / `v4_int()` + whitelist |
| XSS | ë¯¸ì´ìŠ¤ì¼€ì´í”„ | `get_text()` (ê¸°ì¡´) + `htmlspecialchars()` ì ìš© |
| CSRF | ì—†ìŒ | ì½ê¸°ì „ìš© AJAXëŠ” Referer+XHR ê²€ì¦, ìƒíƒœë³€ê²½ë§Œ `get_token()`/`check_token()` |
| AJAX ì‘ë‹µ | PHP echoë¡œ JSON ìˆ˜ë™ ìƒì„± | `json_encode()` ì‚¬ìš© |

---

## 3. DB ìŠ¤í‚¤ë§ˆ ê³ ë ¤ì‚¬í•­

### 3.1 í˜„í–‰ ìœ ì§€ (admê³¼ ê³µìœ )

ë¦¬ë‰´ì–¼ ë²”ìœ„ê°€ `contents/` í”„ë¡ íŠ¸ì—”ë“œì´ë¯€ë¡œ, **ê¸°ì¡´ DB í…Œì´ë¸”ì€ ê·¸ëŒ€ë¡œ ìœ ì§€**í•œë‹¤.
`adm/`ì—ì„œ ë°ì´í„°ë¥¼ ì…ë ¥í•˜ê³  `contents/`ì—ì„œ ì½ê¸°ë§Œ í•˜ëŠ” êµ¬ì¡°ì´ê¸° ë•Œë¬¸.

```
adm/ (ìœ ì§€) â”€â”€[INSERT/UPDATE]â”€â”€â†’ DB â†â”€â”€[SELECT]â”€â”€ contents/ (ë¦¬ë‰´ì–¼)
```

### 3.2 í†µí•© ê°€ëŠ¥í•œ í…Œì´ë¸”

ë¦¬ë‰´ì–¼ ì´í›„ ë‹¨ê³„ì—ì„œ ê²€í† í•  ì‚¬í•­:

| í˜„í–‰ | í†µí•© ë°©í–¥ |
|------|-----------|
| `v3_rsc_event_bbs` + `v3_rsc_global_event_bbs` | `event_type` í•„ë“œ ì¶”ê°€ë¡œ ë‹¨ì¼ í…Œì´ë¸” ê°€ëŠ¥ |
| `v3_rsc_review_category` + `v3_rsc_free_category` + `v3_rsc_book_category` | í†µí•© ì¹´í…Œê³ ë¦¬ í…Œì´ë¸” ê°€ëŠ¥ |

ë‹¨, **adm ìˆ˜ì • ì—†ì´ ì§„í–‰í•˜ë¯€ë¡œ í˜„ ë‹¨ê³„ì—ì„œëŠ” í…Œì´ë¸” ë³€ê²½ ì—†ìŒ.**

---

## 4. ê¸°ì¤€ êµ¬ì¡°: `index_test.php` (ì‹ ê·œ ë©”ì¸ í˜ì´ì§€)

`index_test.php`ëŠ” ì´ë¯¸ ë¦¬ë‰´ì–¼ëœ ìƒˆ ê¸°ì¤€ êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆë‹¤.
**`contents/v4/` í˜ì´ì§€ë“¤ì€ ì´ êµ¬ì¡°ë¥¼ ë”°ë¼ì•¼ í•œë‹¤.**

### 4.1 index_test.php (ì‹ ê·œ) vs contents/*.php (ë ˆê±°ì‹œ) ë¹„êµ

| êµ¬ë¶„ | `index_test.php` (ì‹ ê·œ ê¸°ì¤€) | `contents/*.php` (ë ˆê±°ì‹œ) |
|------|------------------------------|--------------------------|
| **í—¤ë”** | `inc/common_header26.php` | `inc/common_header.php` |
| **ë¡œê³ ** | `logo_new.svg` | `logo.svg` |
| **ë‹¤í¬ëª¨ë“œ** | ìˆìŒ (í…Œë§ˆ í† ê¸€ ë²„íŠ¼) | ì—†ìŒ |
| **CSS** | `main26.css`, `common26.css` | `sub.css` |
| **JS** | `common26.js`, `main26.js` â†’ v4: **`v4.app.js`** | `common.js`, `sub.js` |
| **SEO** | DB ë™ì  (`v3_seo_config` í…Œì´ë¸”) | í•˜ë“œì½”ë”© (2023ë…„ OG íƒœê·¸ ê·¸ëŒ€ë¡œ) |
| **ë§ˆì¼€íŒ…** | `inc/marketing_head.php` ì¤‘ì•™ ê´€ë¦¬ | ê° íŒŒì¼ë§ˆë‹¤ GA/Pixel ì¸ë¼ì¸ ë³µë¶™ |
| **ìŠ¬ë¼ì´ë”** | Swiper 11 (CDN) + Slick | Slickë§Œ |
| **ì• ë‹ˆë©”ì´ì…˜** | GSAP 3.12.2 (CDN) + SplitText | ì—†ìŒ (ê¸°ë³¸ ScrollTriggerë§Œ) |
| **GA** | GTM ê¸°ë°˜ ë™ì  (`seo_gtm_id`) | UA ì§ì ‘ í•˜ë“œì½”ë”© (ì„œë¹„ìŠ¤ ì¢…ë£Œë¨) |
| **í‘¸í„°** | `inc/common_footer.php` | `inc/common_footer.php` (ë™ì¼) |
| **íˆì–´ë¡œ DB** | `v3_visual_main` (ë™ì  ìŠ¬ë¼ì´ë“œ) | ì—†ìŒ |

### 4.2 v4 í˜ì´ì§€ê°€ ë”°ë¼ì•¼ í•  ê¸°ì¤€ (index_test.php ê¸°ë°˜)

```php
<?php
// 1. ê³µí†µ ì´ˆê¸°í™”
include_once('../_common.php');

// 2. SEO ë™ì  ë¡œë”© (í˜ì´ì§€ë³„)
$v3_seo = sql_fetch("SELECT * FROM v3_seo_config WHERE seo_page = '{í˜ì´ì§€ëª…}'");
// fallback: 'default' ì„¤ì • ì‚¬ìš©
?>
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <!-- 3. ë§ˆì¼€íŒ… íŠ¸ë˜í‚¹ (ì¤‘ì•™ ê´€ë¦¬) -->
  <?php include '../inc/marketing_head.php'; ?>

  <!-- 4. íŒŒë¹„ì½˜ -->
  <!-- (ê³µí†µ includeë¡œ ë¶„ë¦¬ ì˜ˆì •) -->

  <!-- 5. CSS: 26 ë²„ì „ ì‚¬ìš© -->
  <link rel="stylesheet" href="/v3/resource/css/common26.css">
  <link rel="stylesheet" href="/v3/resource/css/{í˜ì´ì§€}.css">

  <!-- 6. JS: v4 í†µí•© ìŠ¤í¬ë¦½íŠ¸ -->
  <script src="/v3/resource/js/jquery-3.4.1.min.js"></script>
  <script src="/v3/resource/js/slick.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="/v3/resource/js/ScrollTrigger.min.js"></script>
  <script src="/v3/resource/js/jquery.menu.min.js"></script>
  <script src="/v3/resource/js/jquery.responsive.min.js"></script>
  <script src="/v3/resource/js/v4.app.js"></script>  <!-- common26 + sub í†µí•© -->

  <title><?php echo get_text($seo_title); ?></title>
</head>
<body>
  <?php include '../inc/marketing_body.php'; ?>

  <!-- 7. í—¤ë”: 26 ë²„ì „ (ë‹¤í¬ëª¨ë“œ í¬í•¨) -->
  <?php include '../inc/common_header26.php'; ?>

  <!-- 8. ì½˜í…ì¸  ì˜ì—­ -->
  <div class="container">
    <!-- í˜ì´ì§€ ë³¸ë¬¸ -->
  </div>

  <!-- 9. í‘¸í„° -->
  <?php include '../inc/common_footer.php'; ?>
</body>
</html>
```

### 4.3 ë ˆê±°ì‹œì—ì„œ ë°˜ë“œì‹œ ì œê±°í•´ì•¼ í•  ê²ƒ

| ë ˆê±°ì‹œ ì½”ë“œ | ì œê±° ì´ìœ  |
|-------------|-----------|
| ì¸ë¼ì¸ GA UA ì½”ë“œ (`UA-174668456-1`) | Google Universal Analytics ì„œë¹„ìŠ¤ ì¢…ë£Œ |
| ì¸ë¼ì¸ Google Ads ì½”ë“œ | `marketing_head.php`ë¡œ ì¤‘ì•™ ê´€ë¦¬ |
| ì¸ë¼ì¸ Facebook Pixel ì½”ë“œ | `marketing_head.php`ë¡œ ì¤‘ì•™ ê´€ë¦¬ |
| í•˜ë“œì½”ë”©ëœ OG íƒœê·¸ (2023ë…„) | `v3_seo_config` DB ë™ì  ë¡œë”©ìœ¼ë¡œ êµì²´ |
| `common.js`, `sub.js` ì°¸ì¡° | `v4.app.js`ë¡œ êµì²´ (common26 + sub í†µí•©, ì¶©ëŒ ì œê±°) |
| `sub.css` ì°¸ì¡° | `common26.css` + í˜ì´ì§€ë³„ CSSë¡œ êµì²´ |
| `common_header.php` ì°¸ì¡° | `common_header26.php`ë¡œ êµì²´ |

### 4.4 ì¶”ê°€ DB í…Œì´ë¸” (index_test.phpì—ì„œ í™•ì¸)

```
v3_visual_main          â† ë©”ì¸ íˆì–´ë¡œ ìŠ¬ë¼ì´ë“œ (ì‹ ê·œ)
  vm_id                 -- PK
  vm_display            -- ë…¸ì¶œ ì—¬ë¶€ (1/0)
  vm_order              -- ì •ë ¬ ìˆœì„œ
  vm_bg_type            -- ë°°ê²½ íƒ€ì… (video/image)
  vm_bg_url             -- ë°°ê²½ ë¯¸ë””ì–´ URL
  vm_title_img          -- íƒ€ì´í‹€ ì´ë¯¸ì§€ URL
  vm_link_url           -- ë²„íŠ¼ ë§í¬
  vm_btn_text           -- ë²„íŠ¼ í…ìŠ¤íŠ¸
  vm_duration           -- ìë™ì¬ìƒ ì‹œê°„ (ms)

v3_seo_config           â† SEO/ë§ˆì¼€íŒ… ì„¤ì • (í˜ì´ì§€ë³„)
  seo_page              -- í˜ì´ì§€ ì‹ë³„ì (default, event_list, ...)
  seo_title             -- í˜ì´ì§€ íƒ€ì´í‹€
  seo_description       -- ë©”íƒ€ ì„¤ëª…
  seo_keywords          -- ë©”íƒ€ í‚¤ì›Œë“œ
  seo_og_image          -- OG ì´ë¯¸ì§€ URL
  seo_ga_id             -- Google Analytics ID
  seo_gtm_id            -- Google Tag Manager ID
  seo_pixel_id          -- Facebook Pixel ID
  seo_kakao_pixel_id    -- ì¹´ì¹´ì˜¤ Pixel ID
  seo_naver_verif       -- ë„¤ì´ë²„ ì‚¬ì´íŠ¸ ì¸ì¦
  seo_google_verif      -- êµ¬ê¸€ ì‚¬ì´íŠ¸ ì¸ì¦
  seo_extra_head        -- ì¶”ê°€ head ì½”ë“œ
  seo_extra_body        -- ì¶”ê°€ body ì½”ë“œ
```

### 4.5 JS í†µí•©: `common26.js` + `sub.js` â†’ `v4.app.js`

`common26.js`ì™€ `sub.js`ë¥¼ ë™ì‹œ ë¡œë“œí•˜ë©´ **ì¶©ëŒì´ ë°œìƒ**í•œë‹¤.
v4ì—ì„œëŠ” ë‘ íŒŒì¼ì„ ì •ë¦¬/ë³‘í•©í•˜ì—¬ `v4.app.js` ë‹¨ì¼ íŒŒì¼ë¡œ í†µí•©í•œë‹¤.

#### ì¶©ëŒ í˜„í™©

| ì‹¬ê°ë„ | ë¬¸ì œ | ìœ„ì¹˜ |
|--------|------|------|
| CRITICAL | `tab_layout` ì´ˆê¸°í™” 2ì¤‘ ì‹¤í–‰ | common26.js ë‚´ë¶€ì—ì„œ 224-250ì¤„, 256-285ì¤„ ì¤‘ë³µ |
| CRITICAL | `lastScroll` ì „ì—­ ë³€ìˆ˜ ì–‘ìª½ ë™ì¼ ì„ ì–¸ | common26.js:419, sub.js:121 |
| WARNING | `$(window).scroll()` 2ì¤‘ ë“±ë¡ | common26.js:420, sub.js:122 |
| WARNING | `$(document).ready()` ì´ 6ê°œ ì‚°ë°œ | ì–‘ìª½ ê³³ê³³ |

#### í†µí•© ê³„íš: `v4.app.js`

```
resource/js/v4.app.js (ì‹ ê·œ ìƒì„±)
â”‚
â”œâ”€â”€ [common26.jsì—ì„œ ê°€ì ¸ì˜¬ ê²ƒ]
â”‚   â”œâ”€â”€ web_menu() / mobile_menu()    â† í—¤ë” ë„¤ë¹„ê²Œì´ì…˜
â”‚   â”œâ”€â”€ ëª¨ë°”ì¼ ë©”ë‰´ ì—´ê¸°/ë‹«ê¸°          â† lnb ìŠ¬ë¼ì´ë“œ
â”‚   â”œâ”€â”€ tab_layout ì´ˆê¸°í™”             â† ì¤‘ë³µ ì œê±°, 1ê°œë§Œ ìœ ì§€
â”‚   â”œâ”€â”€ PopupZone í”ŒëŸ¬ê·¸ì¸            â† íŒì—… ë¡¤ë§
â”‚   â”œâ”€â”€ Theme Toggle (ë‹¤í¬ëª¨ë“œ)       â† localStorage ì—°ë™
â”‚   â””â”€â”€ body_active í´ë˜ìŠ¤ ì¶”ê°€
â”‚
â”œâ”€â”€ [sub.jsì—ì„œ ê°€ì ¸ì˜¬ ê²ƒ]
â”‚   â”œâ”€â”€ SNS ê³µìœ  (.snsbox í† ê¸€)       â† ìƒì„¸ í˜ì´ì§€ì—ì„œ ì‚¬ìš©
â”‚   â”œâ”€â”€ naverSns() / facebookSns()    â† SNS ê³µìœ  í•¨ìˆ˜
â”‚   â”œâ”€â”€ ì•„ì½”ë””ì–¸ (.acc_toggle)        â† FAQ ë“±ì—ì„œ ì‚¬ìš©
â”‚   â””â”€â”€ body .scroll í´ë˜ìŠ¤ ì¶”ê°€      â† ìŠ¤í¬ë¡¤ ê°ì§€
â”‚
â”œâ”€â”€ [ì œê±°í•  ê²ƒ]
â”‚   â”œâ”€â”€ tab_layout ì¤‘ë³µ (256-285ì¤„)   â† common26.js ìì²´ ë²„ê·¸
â”‚   â”œâ”€â”€ lastScroll ì¤‘ë³µ ì„ ì–¸          â† 1ê°œë¡œ í†µí•©
â”‚   â”œâ”€â”€ $(window).scroll() ì¤‘ë³µ       â† 1ê°œë¡œ í•©ì¹¨
â”‚   â”œâ”€â”€ GetIEVersion() / checkIE()    â† IE ì§€ì› ì¢…ë£Œ, ë¶ˆí•„ìš”
â”‚   â”œâ”€â”€ ì´ë¯¸ì§€ ë¡¤ì˜¤ë²„ (.overimg)       â† CSS :hoverë¡œ ëŒ€ì²´ ê°€ëŠ¥
â”‚   â””â”€â”€ .step_type_1 ë†’ì´ ê· ì¼í™”      â† CSS flexboxë¡œ ëŒ€ì²´ ê°€ëŠ¥
â”‚
â””â”€â”€ [ê°œì„  ì‚¬í•­]
    â”œâ”€â”€ .bind() â†’ .on() í†µì¼
    â”œâ”€â”€ ì „ì—­ ë³€ìˆ˜ â†’ IIFE ìŠ¤ì½”í”„ë¡œ ê²©ë¦¬
    â””â”€â”€ $(document).ready() ì‚°ë°œ â†’ 1ê°œë¡œ í†µí•©
```

#### v4.app.js ê¸°ë³¸ êµ¬ì¡°

```js
/**
 * Epic Lounge v4 - App Script
 * common26.js + sub.js í†µí•© (ì¶©ëŒ ì œê±°)
 */
(function($) {
  'use strict';

  // â”€â”€ í—¤ë” ë©”ë‰´ â”€â”€
  function web_menu() { /* ... */ }
  function mobile_menu() { /* ... */ }

  // â”€â”€ ëª¨ë°”ì¼ ë„¤ë¹„ â”€â”€
  function initMobileNav() { /* ... */ }

  // â”€â”€ íƒ­ ë ˆì´ì•„ì›ƒ (1ê°œë§Œ) â”€â”€
  function initTabLayout() { /* ... */ }

  // â”€â”€ SNS ê³µìœ  (sub.jsì—ì„œ ì´ë™) â”€â”€
  function initSnsShare() { /* ... */ }

  // â”€â”€ ì•„ì½”ë””ì–¸ (sub.jsì—ì„œ ì´ë™) â”€â”€
  function initAccordion() { /* ... */ }

  // â”€â”€ ìŠ¤í¬ë¡¤ ê°ì§€ (í†µí•©, 1ê°œ) â”€â”€
  function initScrollDetect() {
    var lastScroll = 0; // ìŠ¤ì½”í”„ ë‚´ ë³€ìˆ˜ (ì „ì—­ ì•„ë‹˜)
    $(window).on('scroll', function() {
      var scroll = $(this).scrollTop();
      $('body').toggleClass('scroll', scroll > 100);
      $('#right_bar').toggleClass('fixed', scroll > 100);
      lastScroll = scroll;
    });
  }

  // â”€â”€ ë‹¤í¬ëª¨ë“œ â”€â”€
  function initThemeToggle() { /* ... */ }

  // â”€â”€ íŒì—…ì¡´ â”€â”€
  $.fn.PopupZone = function(options) { /* ... */ };

  // â”€â”€ ì´ˆê¸°í™” (1ê°œì˜ ready) â”€â”€
  $(function() {
    if ($(window).width() > 1000) { web_menu(); } else { mobile_menu(); }
    $(window).on('resize', function() {
      if ($(window).width() > 1000) { web_menu(); } else { mobile_menu(); }
    });

    initMobileNav();
    initTabLayout();
    initSnsShare();
    initAccordion();
    initScrollDetect();
    initThemeToggle();

    $('html').addClass('body_active');
    $('body').addClass('active');
  });

})(jQuery);

// ì „ì—­ í•¨ìˆ˜ (ì™¸ë¶€ í˜¸ì¶œìš©)
function naverSns(title, url) { /* ... */ }
function facebookSns(title, url) { /* ... */ }
```

#### ë ˆê±°ì‹œ JS íŒŒì¼ ì²˜ë¦¬

| íŒŒì¼ | v4 ì´í›„ |
|------|---------|
| `common.js` | ë ˆê±°ì‹œ ì „ìš©, v4 ë¯¸ì‚¬ìš© |
| `common26.js` | ë ˆê±°ì‹œ ì „ìš©, v4 ë¯¸ì‚¬ìš© |
| `sub.js` | ë ˆê±°ì‹œ ì „ìš©, v4 ë¯¸ì‚¬ìš© |
| `main26.js` | ë©”ì¸ í˜ì´ì§€ ì „ìš©, ìœ ì§€ |
| **`v4.app.js`** | **v4 ì „ í˜ì´ì§€ ê³µí†µ (ì‹ ê·œ)** |

### 4.6 CSS êµ¬ì¡° ë¦¬ë‰´ì–¼

> **ì°¸ê³ **: `common26.css` (26.7K)ëŠ” í—¤ë”/ë„¤ë¹„/í‘¸í„° ì „ìš© (95% ì´ìƒ). ì„œë¸Œí˜ì´ì§€ ì¹´ë“œ, í•„í„°, ì‚¬ì´ë“œë°”, ê°¤ëŸ¬ë¦¬ ë“±ì˜ ìŠ¤íƒ€ì¼ì€ ì—†ìœ¼ë¯€ë¡œ `pages/*.css`ì—ì„œ ì‹ ê·œ ì‘ì„±ì´ í•„ìš”í•˜ë‹¤.

```
resource/css/
â”œâ”€â”€ common26.css         # ê³µí†µ ë ˆì´ì•„ì›ƒ/ì»´í¬ë„ŒíŠ¸ (ê¸°ì¡´, 26 ë²„ì „ â€” í—¤ë”/ë„¤ë¹„/í‘¸í„°)
â”œâ”€â”€ main26.css           # ë©”ì¸ í˜ì´ì§€ ì „ìš© (ê¸°ì¡´)
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ list.css         # ëª©ë¡ ê³µí†µ (ì¹´ë“œ ê·¸ë¦¬ë“œ, ì‚¬ì´ë“œë°” í•„í„°, ë·° ì „í™˜, ë”ë³´ê¸°)
â”‚   â”œâ”€â”€ detail.css       # ìƒì„¸ ê³µí†µ (íˆì–´ë¡œ ì´ë¯¸ì§€, ë³¸ë¬¸, SNS ê³µìœ , ê´€ë ¨ ì½˜í…ì¸ )
â”‚   â””â”€â”€ search.css       # ê²€ìƒ‰ (íƒ­, í•˜ì´ë¼ì´íŒ…, ê²°ê³¼ ì¹´ë“œ)
â””â”€â”€ sub.css              # ë ˆê±°ì‹œ (v4 ì™„ë£Œ í›„ ì œê±° ì˜ˆì •)
```

#### CSS ì‘ì„± ì‹œ ì¤€ìˆ˜ ê·œì¹™

```css
/* 1. ê¸°ì¡´ ë¸Œë ˆì´í¬í¬ì¸íŠ¸ ê·¸ëŒ€ë¡œ ì‚¬ìš© (common26.cssì™€ ë™ì¼) */
@media (max-width: 1000px) { /* íƒœë¸”ë¦¿ ì§„ì…ì  */ }
@media (max-width: 640px)  { /* ëª¨ë°”ì¼ */ }
/* ê¸°íƒ€: 1560px / 1200px / 1100px / 800px */

/* 2. ë‹¤í¬ëª¨ë“œ â€” ê¸°ì¡´ íŒ¨í„´ ë”°ë¥´ê¸° (body.dark-theme ì…€ë ‰í„°) */
body.dark-theme .v4-card {
    background: rgba(255,255,255,0.05);  /* common26.css íŒ¨í„´ */
    color: #ffffff;
}

/* 3. ìƒ‰ìƒ íŒ”ë ˆíŠ¸ â€” common26.cssì—ì„œ ê°€ì ¸ì˜¤ê¸° */
:root {
    --v4-primary: #33aeec;
    --v4-dark-bg: #101014;
    --v4-accent: #ffd700;
    --v4-text-secondary: #a0a0a0;
}

/* 4. ì»¨í…Œì´ë„ˆ â€” ê¸°ì¡´ .wrap í´ë˜ìŠ¤ ì¬ì‚¬ìš© (1240px) */
```

---

## 5. í˜ì´ì§€ë³„ ë¦¬ë‰´ì–¼ ìƒì„¸

### 5.1 ì´ë²¤íŠ¸ ëª©ë¡ (`event_list.php`, `global_event_list.php`)

**ê°ê° ë¶„ë¦¬ ìœ ì§€** (DB í…Œì´ë¸”ì´ ë‹¤ë¥´ë¯€ë¡œ)

- `event_list.php` â†’ `v3_rsc_event_bbs` (ì»¤ë®¤ë‹ˆí‹°)
- `global_event_list.php` â†’ `v3_rsc_global_event_bbs` (ê¸€ë¡œë²Œ)

**ê¸°ëŠ¥**:
- ìƒíƒœ í•„í„°: ì „ì²´, ì§„í–‰ì¤‘, ì¢…ë£Œ, ê²°ê³¼ë°œí‘œ
- ì¹´ë“œ ë ˆì´ì•„ì›ƒ (ì¸ë„¤ì¼ + ì œëª© + ê¸°ê°„ + ìƒíƒœ ë°°ì§€)

### 5.2 ì´ë²¤íŠ¸ ìƒì„¸ (`event_view.php`, `global_event_view.php`)

- `event_view.php`: `event_view_copy.php`ë¥¼ í¡ìˆ˜ (ë²„íŠ¼ í…ìŠ¤íŠ¸ëŠ” DB í•„ë“œ ê¸°ë°˜ ë¶„ê¸°)
- `global_event_view.php`: ë¶„ë¦¬ ìœ ì§€

**ê¸°ëŠ¥**:
- ìƒë‹¨ ë°°ê²½ ì´ë¯¸ì§€ (`top_bbs_img`)
- ë³¸ë¬¸ ì½˜í…ì¸  + ì²¨ë¶€íŒŒì¼ ë‹¤ìš´ë¡œë“œ
- ì•¡ì…˜ ë²„íŠ¼ (DBì˜ `add_btn_yn`, `add_btn_url`ì— ë”°ë¼ ë™ì  ë Œë”ë§)
- SNS ê³µìœ  (Twitter, Facebook, ë§í¬ ë³µì‚¬)
- ê´€ë ¨ ì´ë²¤íŠ¸ 3ê°œ

### 5.3 ì˜ìƒ ëª©ë¡ (`replay_list.php`)

**í†µí•© ëŒ€ìƒ**: `replay.php` + `replay_all.php` (99% ë™ì¼, ê°™ì€ í…Œì´ë¸”)

**ê¸°ëŠ¥**:
- ì‚¬ì´ë“œë°” í•„í„° (ì‚°ì—…ë¶„ì•¼, ì œí’ˆêµ°, ì£¼ì œ, ë‚œì´ë„) â†’ `sidebar_filter.php` ì»´í¬ë„ŒíŠ¸
- í‚¤ì›Œë“œ ê²€ìƒ‰
- ë¦¬ìŠ¤íŠ¸ë·°/ê°¤ëŸ¬ë¦¬ë·° ì „í™˜
- ë”ë³´ê¸° ë¬´í•œ ìŠ¤í¬ë¡¤ â†’ `ajax/replay.ajax.php`
- ìƒë‹¨ ë°°ë„ˆ ìŠ¬ë¼ì´ë“œ â†’ `banner_slide.php` ì»´í¬ë„ŒíŠ¸

### 5.4 ì˜ìƒ ìƒì„¸ (`replay_view.php`)

**ê¸°ëŠ¥**:
- YouTube ì„ë² ë“œ í”Œë ˆì´ì–´
- ë°œí‘œì, ì´ë²¤íŠ¸ ì •ë³´
- PDF ìë£Œ ë‹¤ìš´ë¡œë“œ
- SNS ê³µìœ 
- ê´€ë ¨ ì½˜í…ì¸ 

### 5.5 ë‰´ìŠ¤ ëª©ë¡/ìƒì„¸ (`news_list.php`, `news_view.php`)

**ê¸°ëŠ¥**:
- ì¹´í…Œê³ ë¦¬ í•„í„° (ë‰´ìŠ¤, ì—…ë°ì´íŠ¸/ì¶œì‹œ, ë¸”ë¡œê·¸)
- ìƒëŒ€ ì‹œê°„ í‘œì‹œ (ë°©ê¸ˆì „, Xë¶„ì „, Xì‹œê°„ì „...)
- ë”ë³´ê¸° ë¬´í•œ ìŠ¤í¬ë¡¤ â†’ `ajax/news.ajax.php`
- íƒœê·¸ í‘œì‹œ, ê´€ë ¨ ë‰´ìŠ¤

### 5.6 ë¬´ë£Œì½˜í…ì¸  (`free_list.php`, `free_view.php`)

**ê¸°ëŠ¥**:
- ì‚¬ì´ë“œë°” í•„í„° (ì‚°ì—…ë¶„ì•¼, ì—”ì§„ë²„ì „, ì¹´í…Œê³ ë¦¬)
- ë¦¬ìŠ¤íŠ¸ë·°/ê°¤ëŸ¬ë¦¬ë·° ì „í™˜
- ë”ë³´ê¸° â†’ `ajax/free.ajax.php`
- YouTube ì„ë² ë“œ, ì™¸ë¶€ ë§í¬

### 5.7 ë°±ì„œ (`book_list.php`, `book_view.php`)

**ê¸°ëŠ¥**:
- ì‚¬ì´ë“œë°” í•„í„° (ì‚°ì—…ë¶„ì•¼ë§Œ)
- ë¦¬ìŠ¤íŠ¸ë·°/ê°¤ëŸ¬ë¦¬ë·° ì „í™˜
- ë”ë³´ê¸° â†’ `ajax/book.ajax.php`
- YouTube ì„ë² ë“œ, ì™¸ë¶€ ë§í¬

### 5.8 í†µí•© ê²€ìƒ‰ (`search.php`)

**ê¸°ëŠ¥**:
- 3ê°œ ì„¹ì…˜: ìƒˆì†Œì‹, ì´ë²¤íŠ¸, ë¦¬ì†ŒìŠ¤
- í‚¤ì›Œë“œ í•˜ì´ë¼ì´íŒ…
- ì„¹ì…˜ë³„ ë”ë³´ê¸° â†’ `ajax/search_*.ajax.php`
- ì´ ê²€ìƒ‰ ê±´ìˆ˜ í‘œì‹œ

### 5.9 ì •ì  í˜ì´ì§€

- `personal.php`: ê°œì¸ì •ë³´ë³´í˜¸ì •ì±… (ë‚´ìš© ì—…ë°ì´íŠ¸ í•„ìš” - í˜„ì¬ 2022.04.03 ê¸°ì¤€)
- `ode.php`: ì´ìš©ì•½ê´€

---

## 6. ì‚­ì œ ëŒ€ìƒ

| íŒŒì¼ | ì‚¬ìœ  |
|------|------|
| `event_view_copy.php` | `event_view.php`ë¡œ í¡ìˆ˜ (ë²„íŠ¼ í…ìŠ¤íŠ¸ë§Œ ë‹¤ë¦„) |
| `replay_all.php` | `replay_list.php`ë¡œ í†µí•© (99% ë™ì¼) |
| `replay.php` | `replay_list.php`ë¡œ ëŒ€ì²´ |
| `free copy.php` | ë°±ì—… íŒŒì¼ ì‚­ì œ |
| `free.php` | `free_list.php`ë¡œ ëŒ€ì²´ (ë„¤ì´ë° ì •ë¦¬) |
| `book.php` | `book_list.php`ë¡œ ëŒ€ì²´ (ë„¤ì´ë° ì •ë¦¬) |
| `total_search.php` | `search.php`ë¡œ ëŒ€ì²´ (ë„¤ì´ë° ì •ë¦¬) |

AJAX íŒŒì¼ì€ ì‚­ì œí•˜ì§€ ì•Šê³  `ajax/` ë””ë ‰í† ë¦¬ë¡œ ì´ë™ + ë„¤ì´ë° ì •ë¦¬:

| í˜„í–‰ | ì´ë™ í›„ |
|------|---------|
| `replay_ajax.php` | `ajax/replay.ajax.php` |
| `news_ajax.php` | `ajax/news.ajax.php` |
| `free_ajax.php` | `ajax/free.ajax.php` |
| `book_ajax.php` | `ajax/book.ajax.php` |
| `total_search_ajax_news.php` | `ajax/search_news.ajax.php` |
| `total_search_ajax_event.php` | `ajax/search_event.ajax.php` |
| `total_search_ajax_rsc.php` | `ajax/search_rsc.ajax.php` |

---

## 7. Playwright MCP í™œìš© ì „ëµ

ê°œë°œ ì „ ê³¼ì •ì—ì„œ **Playwright MCP**ë¥¼ í™œìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ìë™í™”í•˜ê³ , ë ˆê±°ì‹œ â†” v4 ì‹œê°ì  ë¹„êµë¥¼ ìˆ˜í–‰í•œë‹¤.

### 7.1 ë ˆê±°ì‹œ í˜ì´ì§€ ê¸°ì¤€ì„  ìº¡ì²˜ (Phase 1ì—ì„œ ìˆ˜í–‰)

ê°œë°œ ì‹œì‘ ì „, í˜„í–‰ ë ˆê±°ì‹œ í˜ì´ì§€ì˜ ìŠ¤í¬ë¦°ìƒ·ì„ ìº¡ì²˜í•˜ì—¬ ë¦¬ë‰´ì–¼ ì°¸ì¡° ìë£Œë¡œ ë³´ì¡´í•œë‹¤.

```
ìº¡ì²˜ ëŒ€ìƒ (ìš´ì˜ URL ê¸°ì¤€):
â”œâ”€â”€ ëª©ë¡ í˜ì´ì§€ (6ê°œ)
â”‚   â”œâ”€â”€ /contents/event_list.php
â”‚   â”œâ”€â”€ /contents/global_event_list.php
â”‚   â”œâ”€â”€ /contents/replay.php
â”‚   â”œâ”€â”€ /contents/news_list.php
â”‚   â”œâ”€â”€ /contents/free.php
â”‚   â””â”€â”€ /contents/book.php
â”‚
â”œâ”€â”€ ìƒì„¸ í˜ì´ì§€ (6ê°œ, ìƒ˜í”Œ idx ì§€ì •)
â”‚   â”œâ”€â”€ /contents/event_view.php?idx={sample}
â”‚   â”œâ”€â”€ /contents/global_event_view.php?idx={sample}
â”‚   â”œâ”€â”€ /contents/replay_view.php?idx={sample}
â”‚   â”œâ”€â”€ /contents/news_view.php?idx={sample}
â”‚   â”œâ”€â”€ /contents/free_view.php?idx={sample}
â”‚   â””â”€â”€ /contents/book_view.php?idx={sample}
â”‚
â””â”€â”€ ê¸°íƒ€ (2ê°œ)
    â”œâ”€â”€ /contents/total_search.php?keyword=í…ŒìŠ¤íŠ¸
    â””â”€â”€ /contents/personal.php
```

**ìº¡ì²˜ í•´ìƒë„** (ê° í˜ì´ì§€ë§ˆë‹¤ 3ì¥):
- Desktop: 1440Ã—900
- Tablet: 768Ã—1024
- Mobile: 375Ã—812

**ì €ì¥ ìœ„ì¹˜**: `_test/screenshots/legacy/`

### 7.2 ê°œë°œ ì¤‘ ë¹„êµ í…ŒìŠ¤íŠ¸ (Phase 2~5ì—ì„œ ìˆ˜í–‰)

ê° v4 í˜ì´ì§€ ì™„ì„± ì‹œ, ë™ì¼ URLì˜ ë ˆê±°ì‹œ ìŠ¤í¬ë¦°ìƒ·ê³¼ ë‚˜ë€íˆ ë¹„êµí•œë‹¤.

```
Playwright íë¦„:
1. browser_navigate â†’ v4 í˜ì´ì§€ ì ‘ì†
2. browser_resize â†’ í•´ìƒë„ ì„¤ì • (1440, 768, 375)
3. browser_take_screenshot â†’ v4 ìŠ¤í¬ë¦°ìƒ· ì €ì¥
4. ë ˆê±°ì‹œ ìŠ¤í¬ë¦°ìƒ·ê³¼ ì‹œê°ì  ë¹„êµ (ëˆ„ë½ëœ ìš”ì†Œ, ë ˆì´ì•„ì›ƒ ê¹¨ì§ í™•ì¸)
```

**ì €ì¥ ìœ„ì¹˜**: `_test/screenshots/v4/`

### 7.3 ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ìë™í™” (Phase 6ì—ì„œ ìˆ˜í–‰)

Playwrightë¡œ ì‚¬ìš©ì ì¸í„°ë™ì…˜ì„ ìë™ ì‹œë®¬ë ˆì´ì…˜:

| í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ | Playwright ë™ì‘ |
|----------------|----------------|
| **í•„í„° ì„ íƒ** | `browser_snapshot` â†’ í•„í„° ì²´í¬ë°•ìŠ¤ `ref` í™•ì¸ â†’ `browser_click` â†’ ê²°ê³¼ ë³€ê²½ í™•ì¸ |
| **ë”ë³´ê¸° í´ë¦­** | ë”ë³´ê¸° ë²„íŠ¼ `browser_click` â†’ `browser_wait_for` (ìƒˆ ì¹´ë“œ ë¡œë”©) â†’ ì¹´ë“œ ìˆ˜ ì¦ê°€ í™•ì¸ |
| **í‚¤ì›Œë“œ ê²€ìƒ‰** | ê²€ìƒ‰ë°” `browser_type` â†’ submit â†’ ê²°ê³¼ í˜ì´ì§€ `browser_snapshot` í™•ì¸ |
| **ë·° ì „í™˜** | ê°¤ëŸ¬ë¦¬ë·° ë²„íŠ¼ `browser_click` â†’ DOM í´ë˜ìŠ¤ ë³€ê²½ í™•ì¸ |
| **SNS ê³µìœ ** | ê³µìœ  ë²„íŠ¼ `browser_click` â†’ ê³µìœ  íŒì—…/ëª¨ë‹¬ ë…¸ì¶œ í™•ì¸ |
| **ë‹¤í¬ëª¨ë“œ** | í…Œë§ˆ í† ê¸€ `browser_click` â†’ `browser_take_screenshot` â†’ ìŠ¤íƒ€ì¼ ë³€ê²½ í™•ì¸ |
| **AJAX ì‘ë‹µ** | `browser_network_requests` â†’ AJAX í˜¸ì¶œ ìƒíƒœì½”ë“œ 200 í™•ì¸ |
| **ì½˜ì†” ì—ëŸ¬** | `browser_console_messages(level: "error")` â†’ JS ì—ëŸ¬ ì—†ëŠ”ì§€ í™•ì¸ |

### 7.4 ë°˜ì‘í˜• + í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸ (Phase 6ì—ì„œ ìˆ˜í–‰)

```
ë°˜ì‘í˜• ìë™ ìº¡ì²˜ ë£¨í”„:
for each page in v4_pages:
  for each size in [1920x1080, 1440x900, 1280x720, 1024x768, 768x1024, 375x812]:
    browser_navigate(page)
    browser_resize(size)
    browser_take_screenshot(filename: "{page}_{size}.png")
```

PlaywrightëŠ” Chromium/Firefox/WebKit ì—”ì§„ì„ ì§€ì›í•˜ë¯€ë¡œ í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸ë„ ê°€ëŠ¥.

### 7.5 ìš´ì˜ ì „í™˜ í›„ ê²€ì¦ (Phase 7ì—ì„œ ìˆ˜í–‰)

ì „í™˜ ì§í›„, ì „ í˜ì´ì§€ë¥¼ ìë™ìœ¼ë¡œ ìˆœíšŒí•˜ë©° í™•ì¸:

```
ìš´ì˜ ê²€ì¦ ìë™í™”:
1. ì „ í˜ì´ì§€ ì ‘ì† â†’ HTTP ìƒíƒœ í™•ì¸ (browser_network_requests)
2. ì½˜ì†” ì—ëŸ¬ í™•ì¸ (browser_console_messages level: "error")
3. ì£¼ìš” ìš”ì†Œ ì¡´ì¬ í™•ì¸ (browser_snapshot â†’ í—¤ë”/í‘¸í„°/ì½˜í…ì¸  ì˜ì—­)
4. ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ â†’ v4 ê°œë°œ ì‹œ ìº¡ì²˜ë³¸ê³¼ ë¹„êµ (ì „í™˜ ê³¼ì •ì—ì„œ ê¹¨ì§„ ê²ƒ ì—†ëŠ”ì§€)
```

---

## 8. ëª¨ë¸ í™œìš© ì „ëµ (Opus / Sonnet / Haiku)

> **í•µì‹¬ ì›ì¹™**: Opusê°€ íŒ¨í„´ì„ ë§Œë“¤ê³ , Sonnetì´ íŒ¨í„´ì„ ë°˜ë³µí•˜ê³ , Haikuê°€ ë‹¨ìˆœ ì‘ì—…ì„ ì²˜ë¦¬í•œë‹¤.

### 8.1 ì‹¤ì œ ì›Œí¬í”Œë¡œìš° (Claude Code ì„¸ì…˜ ê¸°ì¤€)

```
[ë©”ì¸ ì„¸ì…˜: Opus]
â”œâ”€â”€ ì„¤ê³„ íŒë‹¨ + í•µì‹¬ ë¡œì§ ì§ì ‘ ì‘ì„±
â”œâ”€â”€ ë””ë²„ê¹… + ë¬¸ì œ í•´ê²°
â””â”€â”€ ì„œë¸Œì—ì´ì „íŠ¸ ì§€ì‹œ + ê²°ê³¼ ê²€ì¦

[Task ì„œë¸Œì—ì´ì „íŠ¸: Sonnet] â€” ë³‘ë ¬ ì‹¤í–‰
â”œâ”€â”€ íŒ¨í„´ í™•ë¦½ í›„ ë‚˜ë¨¸ì§€ í˜ì´ì§€ ìƒì„±
â”œâ”€â”€ CSS ì‘ì„±
â”œâ”€â”€ ê³µí†µ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
â””â”€â”€ Playwright í…ŒìŠ¤íŠ¸ ì‹¤í–‰

[Task ì„œë¸Œì—ì´ì „íŠ¸: Haiku] â€” ë³‘ë ¬ ì‹¤í–‰
â”œâ”€â”€ íŒŒì¼ íƒìƒ‰/ê²€ìƒ‰
â”œâ”€â”€ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ (Playwright)
â””â”€â”€ ë‹¨ìˆœ ë³µì œ (í…Œì´ë¸”ëª…ë§Œ ë³€ê²½)
```

### 8.2 Phaseë³„ ì‹¤í–‰ ì˜ˆì‹œ

```
Phase 2 ì‹¤í–‰ íë¦„:
1. Opus: event_list.php ì§ì ‘ ì‘ì„± (íŒ¨í„´ í™•ë¦½)
2. Opus â†’ Task(Sonnet) 3ê°œ ë³‘ë ¬ ì‹¤í–‰:
   - Agent A: replay_list.php + news_list.php ì‘ì„±
   - Agent B: free_list.php + book_list.php ì‘ì„±
   - Agent C: list.css ì‘ì„±
3. Opus â†’ Task(Haiku): global_event_list.php ë³µì œ (í…Œì´ë¸”ëª…ë§Œ ë³€ê²½)
4. Opus: ê²°ê³¼ ê²€ì¦ + ìˆ˜ì •

Phase 4 ì‹¤í–‰ íë¦„:
1. Opus: replay.ajax.php ì§ì ‘ ì‘ì„± (AJAX íŒ¨í„´ í™•ë¦½)
2. Opus â†’ Task(Sonnet) 2ê°œ ë³‘ë ¬ ì‹¤í–‰:
   - Agent A: news.ajax.php + free.ajax.php + book.ajax.php ì‘ì„±
   - Agent B: search_news.ajax.php + search_event.ajax.php + search_rsc.ajax.php ì‘ì„±
3. Opus: ê²°ê³¼ ê²€ì¦ + ë³´ì•ˆ ì ê²€
```

### 8.3 ëª¨ë¸ë³„ ì—­í•  ìƒì„¸

| ëª¨ë¸ | ë¹„ì¤‘ | ì—­í•  | ì‘ì—… ì˜ˆì‹œ |
|------|------|------|-----------|
| **Opus** (ë©”ì¸) | ~20% | ì„¤ê³„, í•µì‹¬ ë¡œì§, ë””ë²„ê¹… | `v4.app.js` í†µí•©, `v4_helpers.php` ì„¤ê³„, íŒ¨í„´ í™•ë¦½ í˜ì´ì§€, `search.php` |
| **Sonnet** (Task) | ~60% | íŒ¨í„´ ê¸°ë°˜ ê°œë°œ, í…ŒìŠ¤íŠ¸ | íŒ¨í„´ ë”°ë¼ê°€ê¸° í˜ì´ì§€, CSS, ì»´í¬ë„ŒíŠ¸ êµ¬í˜„, Playwright í…ŒìŠ¤íŠ¸ |
| **Haiku** (Task) | ~20% | ê²€ìƒ‰, ìº¡ì²˜, ë‹¨ìˆœ ë³µì œ | íŒŒì¼ íƒìƒ‰, ìŠ¤í¬ë¦°ìƒ·, í…Œì´ë¸”ëª…ë§Œ ë³€ê²½í•˜ëŠ” ë³µì œ |

### 8.4 Phaseë³„ ëª¨ë¸ ë°°ë¶„

```
Phase 1 (ê¸°ë°˜ êµ¬ì¶•)
â”œâ”€â”€ Opus   â†’ v4.app.js ì„¤ê³„ + ì‘ì„± (í•µì‹¬)
â”œâ”€â”€ Opus   â†’ v4_helpers.php + ì»´í¬ë„ŒíŠ¸ ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„
â”œâ”€â”€ Sonnet â†’ Task: ì„¤ê³„ í™•ì • í›„ ì»´í¬ë„ŒíŠ¸ PHP ì‘ì„± + CSS
â””â”€â”€ Haiku  â†’ Task: ë ˆê±°ì‹œ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜

Phase 2 (ëª©ë¡ í˜ì´ì§€)
â”œâ”€â”€ Opus   â†’ event_list.php ì§ì ‘ ì‘ì„± â† íŒ¨í„´ í™•ë¦½
â”œâ”€â”€ Sonnet â†’ Task ë³‘ë ¬: replay_list + news_list / free_list + book_list / list.css
â”œâ”€â”€ Haiku  â†’ Task: global_event_list.php ë³µì œ (í…Œì´ë¸”ëª…ë§Œ ë³€ê²½)
â””â”€â”€ Opus   â†’ ê²°ê³¼ ê²€ì¦ + ìˆ˜ì •

Phase 3 (ìƒì„¸ í˜ì´ì§€)
â”œâ”€â”€ Opus   â†’ event_view.php ì§ì ‘ ì‘ì„± â† íŒ¨í„´ í™•ë¦½
â”œâ”€â”€ Sonnet â†’ Task ë³‘ë ¬: replay_view + news_view / free_view + book_view / detail.css
â”œâ”€â”€ Haiku  â†’ Task: global_event_view.php ë³µì œ
â””â”€â”€ Opus   â†’ ê²°ê³¼ ê²€ì¦ + ìˆ˜ì •

Phase 4 (AJAX ì—”ë“œí¬ì¸íŠ¸)
â”œâ”€â”€ Opus   â†’ replay.ajax.php ì§ì ‘ ì‘ì„± â† AJAX íŒ¨í„´ í™•ë¦½
â”œâ”€â”€ Sonnet â†’ Task ë³‘ë ¬: ë‚˜ë¨¸ì§€ AJAX 6ê°œ ì‘ì„±
â””â”€â”€ Opus   â†’ ê²°ê³¼ ê²€ì¦ + ë³´ì•ˆ ì ê²€

Phase 5 (ê²€ìƒ‰ + ì •ì )
â”œâ”€â”€ Opus   â†’ search.php (3í…Œì´ë¸” í•©ì‚° ë³µí•© ë¡œì§)
â”œâ”€â”€ Sonnet â†’ Task: personal.php + ode.php + search.css
â””â”€â”€ Opus   â†’ ê²°ê³¼ ê²€ì¦

Phase 6 (í…ŒìŠ¤íŠ¸) â€” ğŸ” Ralph Loop
â””â”€â”€ Ralph Loop â†’ í…ŒìŠ¤íŠ¸ â†’ ë²„ê·¸ ìˆ˜ì • â†’ ì¬í…ŒìŠ¤íŠ¸ ë°˜ë³µ (max 15íšŒ, ì „ë¶€ í†µê³¼ ì‹œ ìë™ ì¢…ë£Œ)

Phase 7 (ì „í™˜)
â”œâ”€â”€ Sonnet â†’ Task: Playwright ìš´ì˜ ê²€ì¦ ìë™ ìˆœíšŒ
â””â”€â”€ Opus   â†’ ë¬¸ì œ ë°œìƒ ì‹œ ì›ì¸ ë¶„ì„ + ìˆ˜ì •
```

---

## 9. ì‘ì—… ìˆœì„œ (ìƒì„¸)

> **ì§„í–‰ í‘œì‹œ**: â¬œ ëŒ€ê¸° / ğŸ”„ ì§„í–‰ì¤‘ / âœ… ì™„ë£Œ

---

### Phase 1: ê¸°ë°˜ êµ¬ì¶•

#### 1-1. ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„± `[Haiku]`
- âœ… `contents/v4/` ë””ë ‰í† ë¦¬ ìƒì„±
- âœ… `contents/v4/ajax/` ë””ë ‰í† ë¦¬ ìƒì„±
- âœ… `inc/components/` ë””ë ‰í† ë¦¬ ìƒì„±
- âœ… `resource/css/pages/` ë””ë ‰í† ë¦¬ ìƒì„±
- âœ… `_test/screenshots/legacy/` ë””ë ‰í† ë¦¬ ìƒì„± (Playwright ìº¡ì²˜ìš©)
- âœ… `_test/screenshots/v4/` ë””ë ‰í† ë¦¬ ìƒì„± (Playwright ìº¡ì²˜ìš©)

#### 1-0. ğŸ­ Playwright - ë ˆê±°ì‹œ í˜ì´ì§€ ê¸°ì¤€ì„  ìº¡ì²˜ `[Haiku]`
> Phase 1 ì‹œì‘ ì‹œ ê°€ì¥ ë¨¼ì € ìˆ˜í–‰. ë¦¬ë‰´ì–¼ ì „ í˜„í–‰ í˜ì´ì§€ì˜ ìŠ¤í¬ë¦°ìƒ·ì„ ë³´ì¡´í•œë‹¤.
- âœ… ëª©ë¡ í˜ì´ì§€ 6ê°œ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ (Desktop 1440px / Tablet 768px / Mobile 375px)
  - `event_list`, `global_event_list`, `replay`, `news_list`, `free`, `book` â€” ê° 3í•´ìƒë„ Ã— 6 = 18ì¥
- âœ… ìƒì„¸ í˜ì´ì§€ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜ (ìƒ˜í”Œ idx ì§€ì •)
  - `event_view`(idx=326), `global_event_view`(idx=222), `replay_view`(idx=1406) â€” ê° 3í•´ìƒë„ Ã— 3 = 9ì¥
  - âš ï¸ `news_view`, `free_view`, `book_view` â€” ë ˆê±°ì‹œì— ìƒì„¸ í˜ì´ì§€ ì—†ìŒ (ì™¸ë¶€ ë§í¬/PDFë¡œ ì—°ê²°)
- âœ… í†µí•© ê²€ìƒ‰ + ì •ì  í˜ì´ì§€ ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜
  - `total_search` (í‚¤ì›Œë“œ "ì–¸ë¦¬ì–¼"), `personal` â€” ê° 3í•´ìƒë„ Ã— 2 = 6ì¥
- âœ… `_test/screenshots/legacy/` ì— ì´ 33ì¥ ì €ì¥ ì™„ë£Œ

#### 1-2. `v4.app.js` ìƒì„± (common26.js + sub.js í†µí•©) `[Opus]`
- âœ… `common26.js` ë¶„ì„ â†’ ìœ ì§€í•  í•¨ìˆ˜/ì œê±°í•  í•¨ìˆ˜ ëª©ë¡ í™•ì •
- âœ… `sub.js` ë¶„ì„ â†’ ìœ ì§€í•  í•¨ìˆ˜/ì œê±°í•  í•¨ìˆ˜ ëª©ë¡ í™•ì •
- âœ… IIFE ë˜í¼ + `'use strict'` ê¸°ë³¸ ê³¨ê²© ì‘ì„±
- âœ… í—¤ë” ë©”ë‰´ ì´ì‹ (`web_menu`, `mobile_menu`, ëª¨ë°”ì¼ ë„¤ë¹„)
- âœ… `tab_layout` ì¤‘ë³µ ì œê±° í›„ 1ê°œë¡œ í†µí•© ì´ì‹
- âœ… ìŠ¤í¬ë¡¤ ê°ì§€ í†µí•© (`lastScroll` ì „ì—­ë³€ìˆ˜ â†’ ìŠ¤ì½”í”„ ë‚´ ë³€ìˆ˜)
- âœ… SNS ê³µìœ  ì´ì‹ (`.snsbox` í† ê¸€, `naverSns`, `facebookSns`)
- âœ… ì•„ì½”ë””ì–¸ ì´ì‹ (`.acc_toggle`)
- âœ… ë‹¤í¬ëª¨ë“œ í…Œë§ˆ í† ê¸€ ì´ì‹ (`localStorage` ì—°ë™)
- âœ… `PopupZone` í”ŒëŸ¬ê·¸ì¸ ì´ì‹
- âœ… IE ê´€ë ¨ ì½”ë“œ ì œê±° (`GetIEVersion`, `checkIE`)
- âœ… `.bind()` â†’ `.on()` ì „í™˜, `$(document).ready()` 1ê°œë¡œ í†µí•©
- â¬œ ë™ì‘ í…ŒìŠ¤íŠ¸ (í—¤ë” ë©”ë‰´, ë‹¤í¬ëª¨ë“œ, SNS ê³µìœ , ìŠ¤í¬ë¡¤)

#### 1-3. ê³µí†µ ì»´í¬ë„ŒíŠ¸ ìƒì„± (`inc/components/`) `[Opus â†’ Sonnet]`
> Opusê°€ `sidebar_filter.php` ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„ â†’ Sonnetì´ ë‚˜ë¨¸ì§€ êµ¬í˜„
- âœ… `sidebar_filter.php` - ì‚¬ì´ë“œë°” ì²´í¬ë°•ìŠ¤ í•„í„° (ì¹´í…Œê³ ë¦¬ ë°ì´í„° íŒŒë¼ë¯¸í„°í™”) `[Opus]`
- âœ… `card_list.php` - ì¹´ë“œ ë¦¬ìŠ¤íŠ¸ ë Œë”ë§ (ë¦¬ìŠ¤íŠ¸ë·°/ê°¤ëŸ¬ë¦¬ë·° ì „í™˜) `[Sonnet]`
- âœ… `banner_slide.php` - ë°°ë„ˆ ìŠ¬ë¼ì´ë“œ (position íŒŒë¼ë¯¸í„°ë¡œ Swiper ì´ˆê¸°í™”) `[Sonnet]`
- âœ… `social_share.php` - SNS ê³µìœ  ë²„íŠ¼ (Twitter, Facebook, ë§í¬ ë³µì‚¬) `[Sonnet]`
- âœ… `related_items.php` - ê´€ë ¨ ì½˜í…ì¸  3ê°œ í‘œì‹œ (í…Œì´ë¸”ëª…/í˜„ì¬ID íŒŒë¼ë¯¸í„°) `[Sonnet]`
- âœ… `pagination.php` - ë”ë³´ê¸° ë²„íŠ¼ (AJAX ì—”ë“œí¬ì¸íŠ¸ URL íŒŒë¼ë¯¸í„°) `[Sonnet]`
- âœ… `search_bar.php` - í‚¤ì›Œë“œ ê²€ìƒ‰ë°” (í¼ action URL íŒŒë¼ë¯¸í„°) `[Sonnet]`

#### 1-4. CSS êµ¬ì¶• `[Sonnet]`
- âœ… `resource/css/pages/list.css` - ëª©ë¡ í˜ì´ì§€ ê³µí†µ (ì‚¬ì´ë“œë°”, ì¹´ë“œ ê·¸ë¦¬ë“œ, í•„í„°, ë·° ì „í™˜, ë”ë³´ê¸°)
- âœ… `resource/css/pages/detail.css` - ìƒì„¸ í˜ì´ì§€ ê³µí†µ (íˆì–´ë¡œ ì´ë¯¸ì§€, ë³¸ë¬¸, SNS ê³µìœ , ê´€ë ¨ ì½˜í…ì¸ )
- âœ… `resource/css/pages/search.css` - ê²€ìƒ‰ í˜ì´ì§€ (íƒ­, í•˜ì´ë¼ì´íŒ…, ê²°ê³¼ ì¹´ë“œ)
- âœ… ë‹¤í¬ëª¨ë“œ: `body.dark-theme` ì…€ë ‰í„° ì‚¬ìš© (common26.css line 1243-1430 íŒ¨í„´)
- âœ… ìƒ‰ìƒ íŒ”ë ˆíŠ¸: `--v4-primary: #33aeec`, `--v4-dark-bg: #101014`, `--v4-accent: #ffd700`
- âœ… ë°˜ì‘í˜• ë¸Œë ˆì´í¬í¬ì¸íŠ¸: 1000px (íƒœë¸”ë¦¿ í•µì‹¬), 640px (ëª¨ë°”ì¼) â€” common26.cssì™€ ë™ì¼
- âœ… ì»¨í…Œì´ë„ˆ: ê¸°ì¡´ `.wrap` í´ë˜ìŠ¤ ì¬ì‚¬ìš© (1240px)

#### 1-5. v4 í—¬í¼ í•¨ìˆ˜ ì¤€ë¹„ `[Opus]`

> **ì›ì¹™**: GNU Board `common.lib.php`ì— ì´ë¯¸ ì¡´ì¬í•˜ëŠ” í•¨ìˆ˜ëŠ” ì¬ì‚¬ìš©í•˜ê³ , v4ì—ì„œë§Œ í•„ìš”í•œ ìµœì†Œí•œì˜ í—¬í¼ë§Œ ìƒˆë¡œ ë§Œë“ ë‹¤.

ê¸°ì¡´ í•¨ìˆ˜ ê·¸ëŒ€ë¡œ ì‚¬ìš© (ì‹ ê·œ ìƒì„± ë¶ˆí•„ìš”):
| ê¸°ëŠ¥ | ê¸°ì¡´ í•¨ìˆ˜ | ìœ„ì¹˜ |
|------|----------|------|
| ì¶œë ¥ ì´ìŠ¤ì¼€ì´í”„ (XSS ë°©ì§€) | `get_text()` | common.lib.php:1445 |
| HTML íƒœê·¸ ì •ì œ | `clean_xss_tags()` | common.lib.php:3012 |
| ì…ë ¥ ì •ì œ | `escape_trim()` | common.lib.php:2130 |
| SQL ì´ìŠ¤ì¼€ì´í”„ | `sql_real_escape_string()` | common.lib.php:2116 |
| CSRF í† í° (ìƒíƒœë³€ê²½ìš©) | `get_token()` / `check_token()` | common.lib.php:2022-2031 |
| ë³¸ë¬¸ HTML ì²˜ë¦¬ | `conv_content()` | common.lib.php:513 |
| ì œëª© ìë¥´ê¸° | `conv_subject()` | common.lib.php:507 |
| í˜ì´ì§€ë„¤ì´ì…˜ HTML | `get_paging()` | common.lib.php:21 |

- âœ… `inc/v4_helpers.php` ìƒì„± (v4 ì „ìš© ìµœì†Œ í—¬í¼)
- âœ… `inc/v4_cards.php` ìƒì„± (ì¹´ë“œ ë Œë”ë§ í•¨ìˆ˜)
  - `render_event_card($item, $view_url)` â€” ì´ë²¤íŠ¸ ì¹´ë“œ (ìƒíƒœ ë°°ì§€ í¬í•¨)
  - `render_resource_card($item, $type, $view_url, $data_subdir)` â€” ë¦¬ì†ŒìŠ¤ ì¹´ë“œ (ì¹´í…Œê³ ë¦¬ íƒœê·¸ í¬í•¨)
  - `v4_int($val)` â€” ì •ìˆ˜ íŒŒë¼ë¯¸í„° ê°•ì œ ìºìŠ¤íŒ…
  - `v4_str($val)` â€” ë¬¸ìì—´ ì•ˆì „ ì²˜ë¦¬ (strip_tags + trim + stripslashes + sql_real_escape_string)
  - `v4_filter_array($arr, $allowed)` â€” í•„í„° ë°°ì—´ + whitelist ê²€ì¦
  - `v4_where_like($field, $values)` â€” WHERE ì¡°ê±´ ë¹Œë” (LIKE ê²€ìƒ‰)
  - `v4_where_in($field, $values)` â€” WHERE ì¡°ê±´ ë¹Œë” (ì •í™•íˆ ì¼ì¹˜)
  - `v4_limit($page, $per_page)` â€” í˜ì´ì§€ë„¤ì´ì…˜ LIMIT ê³„ì‚°
  - `v4_relative_time($datetime)` â€” ìƒëŒ€ ì‹œê°„ í‘œì‹œ (ë°©ê¸ˆì „, Xë¶„ì „, Xì‹œê°„ì „...)
  - `v4_highlight($text, $keyword)` â€” ê²€ìƒ‰ í‚¤ì›Œë“œ í•˜ì´ë¼ì´íŒ…
  - `v4_thumb_url($row, $subdir)` â€” ì¸ë„¤ì¼ URL í—¬í¼
  - `v4_ajax_guard()` â€” AJAX ë³´ì•ˆ ê²€ì¦ (POST + XHR í—¤ë”)
  - `v4_youtube_embed_id($url)` â€” YouTube URL â†’ ì„ë² ë“œ ID ì¶”ì¶œ

---

### Phase 2: ëª©ë¡ í˜ì´ì§€ (`contents/v4/`)

#### 2-1. `event_list.php` (ì»¤ë®¤ë‹ˆí‹°+ê¸€ë¡œë²Œ ì´ë²¤íŠ¸ ëª©ë¡) `[Opus]` â† íŒ¨í„´ í™•ë¦½
> **ë³€ê²½**: ì»¤ë®¤ë‹ˆí‹°/ê¸€ë¡œë²Œì„ ì¹´í…Œê³ ë¦¬íƒ­ìœ¼ë¡œ í†µí•© (ë³„ë„ global_event_list.php ë¶ˆí•„ìš”)
- âœ… ê¸°ì¤€ êµ¬ì¡° (ì„¹ì…˜ 4.2) ê¸°ë°˜ PHP ê³¨ê²© ì‘ì„±
- âœ… SEO ë™ì  ë¡œë”© (`v3_seo_config WHERE seo_page = 'event_list'`)
- âœ… ì¹´í…Œê³ ë¦¬ íƒ­ êµ¬í˜„ (ì»¤ë®¤ë‹ˆí‹°/ê¸€ë¡œë²Œ â€” í…Œì´ë¸” ë¶„ê¸°)
- âœ… ìƒíƒœ í•„í„° íƒ­ êµ¬í˜„ (ì „ì²´/ì§„í–‰ì¤‘/ì¢…ë£Œ/ê²°ê³¼ë°œí‘œ/ì˜ˆê³ )
- âœ… `v3_rsc_event_bbs` + `v3_rsc_global_event_bbs` ëª©ë¡ ì¿¼ë¦¬ (íƒ­ì— ë”°ë¼ ë¶„ê¸°)
- âœ… ì¹´ë“œ ë ˆì´ì•„ì›ƒ ë Œë”ë§ (`render_event_card()` â€” ì¸ë„¤ì¼ + ì œëª© + ê¸°ê°„ + ìƒíƒœ ë°°ì§€)
- âœ… ë¦¬ìŠ¤íŠ¸ë·°/ê°¤ëŸ¬ë¦¬ë·° ì „í™˜
- âœ… í˜ì´ì§€ë„¤ì´ì…˜ / ë”ë³´ê¸° AJAX ì—°ë™ (`ajax/event.ajax.php`)
- âœ… XSS ë°©ì§€ ì¶œë ¥ ì´ìŠ¤ì¼€ì´í”„ ì ìš©

#### 2-2. ~~`global_event_list.php`~~ â†’ `event_list.php`ì— í†µí•© âœ…
> **ë³€ê²½**: ë³„ë„ íŒŒì¼ ëŒ€ì‹  `event_list.php`ì˜ ì¹´í…Œê³ ë¦¬íƒ­(ì»¤ë®¤ë‹ˆí‹°/ê¸€ë¡œë²Œ)ìœ¼ë¡œ í†µí•© êµ¬í˜„
- âœ… `event_list.php` ì¹´í…Œê³ ë¦¬íƒ­ì—ì„œ `v3_rsc_global_event_bbs` í…Œì´ë¸” ì¡°íšŒ
- âœ… AJAX(`event.ajax.php`)ì—ì„œë„ `category=global` íŒŒë¼ë¯¸í„°ë¡œ ê¸€ë¡œë²Œ í…Œì´ë¸” ë¶„ê¸°

#### 2-3. `replay_list.php` (ì˜ìƒ ëª©ë¡ - replay + replay_all í†µí•©) `[Sonnet]`
- âœ… ê¸°ì¤€ êµ¬ì¡° ê¸°ë°˜ PHP ê³¨ê²© ì‘ì„±
- âœ… SEO ë™ì  ë¡œë”©
- âœ… ì‚¬ì´ë“œë°” í•„í„° (ì‚°ì—…ë¶„ì•¼/ì œí’ˆêµ°/ì£¼ì œ/ë‚œì´ë„) â€” `v3_rsc_review_category` ë™ì  ì¡°íšŒ
- âœ… í‚¤ì›Œë“œ ê²€ìƒ‰ë°”
- âœ… ë¦¬ìŠ¤íŠ¸ë·°/ê°¤ëŸ¬ë¦¬ë·° ì „í™˜ ë²„íŠ¼
- âœ… `v3_rsc_review_bbs` ëª©ë¡ ì¿¼ë¦¬ (í•„í„° ì¡°ê±´ + `v4_where_like()` + `sql_query()`)
- âœ… `render_resource_card()` ì¹´ë“œ ë Œë”ë§
- âœ… ë”ë³´ê¸° AJAX ì—°ë™ (`ajax/replay.ajax.php`)
- âœ… CSS í´ë˜ìŠ¤ list.cssì™€ ì¼ì¹˜ ê²€ì¦ ì™„ë£Œ

#### 2-4. `news_list.php` (ë‰´ìŠ¤ ëª©ë¡) `[Sonnet]`
- âœ… ê¸°ì¤€ êµ¬ì¡° ê¸°ë°˜ PHP ê³¨ê²© ì‘ì„±
- âœ… SEO ë™ì  ë¡œë”©
- âœ… í‚¤ì›Œë“œ ê²€ìƒ‰ (ì‚¬ì´ë“œë°” ì—†ìŒ)
- âœ… `v3_rsc_news_bbs` ëª©ë¡ ì¿¼ë¦¬ (`v4_str()` + `sql_query()`)
- âœ… `render_resource_card()` ì¹´ë“œ ë Œë”ë§
- âœ… ë¦¬ìŠ¤íŠ¸ë·°/ê°¤ëŸ¬ë¦¬ë·° ì „í™˜
- âœ… ë”ë³´ê¸° AJAX ì—°ë™ (`ajax/news.ajax.php`)

#### 2-5. `free_list.php` (ë¬´ë£Œì½˜í…ì¸  ëª©ë¡) `[Sonnet]`
- âœ… ê¸°ì¤€ êµ¬ì¡° ê¸°ë°˜ PHP ê³¨ê²© ì‘ì„±
- âœ… SEO ë™ì  ë¡œë”©
- âœ… ì‚¬ì´ë“œë°” í•„í„° (ì‚°ì—…ë¶„ì•¼/ì œí’ˆêµ°/ì£¼ì œ/ì—”ì§„ë²„ì „) â€” `v3_rsc_free_category` ë™ì  ì¡°íšŒ
- âœ… í‚¤ì›Œë“œ ê²€ìƒ‰ë°”
- âœ… ë¦¬ìŠ¤íŠ¸ë·°/ê°¤ëŸ¬ë¦¬ë·° ì „í™˜
- âœ… `v3_rsc_free_bbs` ëª©ë¡ ì¿¼ë¦¬ (`v4_str()` + `v4_where_like()` + `sql_query()`)
- âœ… `render_resource_card()` ì¹´ë“œ ë Œë”ë§
- âœ… ë”ë³´ê¸° AJAX ì—°ë™ (`ajax/free.ajax.php`)
- âœ… CSS í´ë˜ìŠ¤ list.cssì™€ ì¼ì¹˜ ê²€ì¦ ì™„ë£Œ

#### 2-6. `book_list.php` (ë°±ì„œ ëª©ë¡) `[Sonnet]`
- âœ… ê¸°ì¤€ êµ¬ì¡° ê¸°ë°˜ PHP ê³¨ê²© ì‘ì„±
- âœ… SEO ë™ì  ë¡œë”©
- âœ… ì‚¬ì´ë“œë°” í•„í„° (ì‚°ì—…ë¶„ì•¼/ì œí’ˆêµ°/ì£¼ì œ) â€” `v3_rsc_book_category` ë™ì  ì¡°íšŒ
- âœ… í‚¤ì›Œë“œ ê²€ìƒ‰ë°”
- âœ… ë¦¬ìŠ¤íŠ¸ë·°/ê°¤ëŸ¬ë¦¬ë·° ì „í™˜
- âœ… `v3_rsc_book_bbs` ëª©ë¡ ì¿¼ë¦¬ (`v4_str()` + `v4_where_like()` + `sql_query()`)
- âœ… `render_resource_card()` ì¹´ë“œ ë Œë”ë§
- âœ… ë”ë³´ê¸° AJAX ì—°ë™ (`ajax/book.ajax.php`)
- âœ… CSS í´ë˜ìŠ¤ list.cssì™€ ì¼ì¹˜ ê²€ì¦ ì™„ë£Œ

---

### Phase 3: ìƒì„¸ í˜ì´ì§€ (`contents/v4/`)

#### 3-1. `event_view.php` (ì»¤ë®¤ë‹ˆí‹°+ê¸€ë¡œë²Œ ì´ë²¤íŠ¸ ìƒì„¸) `[Opus]` â† íŒ¨í„´ í™•ë¦½
> **ë³€ê²½**: ì»¤ë®¤ë‹ˆí‹°/ê¸€ë¡œë²Œì„ `type=global` GET íŒŒë¼ë¯¸í„°ë¡œ í†µí•© (ë³„ë„ global_event_view.php ë¶ˆí•„ìš”)
- âœ… ê¸°ì¤€ êµ¬ì¡° ê¸°ë°˜ PHP ê³¨ê²© ì‘ì„±
- âœ… SEO ë™ì  ë¡œë”© (ì´ë²¤íŠ¸ ì œëª© ê¸°ë°˜ OG íƒœê·¸ ë™ì  ìƒì„±)
- âœ… `rsc_bbs_idx` íŒŒë¼ë¯¸í„° ê²€ì¦ (ì •ìˆ˜ ìºìŠ¤íŒ…, ì¡´ì¬ ì—¬ë¶€ í™•ì¸)
- âœ… `type=global` íŒŒë¼ë¯¸í„°ë¡œ ì»¤ë®¤ë‹ˆí‹°/ê¸€ë¡œë²Œ í…Œì´ë¸” ë¶„ê¸°
- âœ… ìƒë‹¨ ë°°ê²½ ì´ë¯¸ì§€ ë Œë”ë§ (`top_bbs_img`) â€” íˆì–´ë¡œ + ì˜¤ë²„ë ˆì´ + ìƒíƒœ ë°°ì§€
- âœ… ë³¸ë¬¸ ì½˜í…ì¸  ë Œë”ë§ (`contents` HTML ì¶œë ¥)
- âœ… ì²¨ë¶€íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ (`doc_file` í•„ë“œ)
- âœ… ì•¡ì…˜ ë²„íŠ¼ ë¶„ê¸° (`add_btn_yn` + `add_btn_url` â†’ ì°¸ê°€/ì‹ ì²­ ë²„íŠ¼ ë™ì  ë Œë”ë§)
- âœ… ì†Œì…œ ê³µìœ  (Facebook, Twitter, URL ë³µì‚¬)
- âœ… ê´€ë ¨ ì´ë²¤íŠ¸ 3ê°œ (`ORDER BY ABS(idx - rsc_bbs_idx) ASC`)

#### 3-2. ~~`global_event_view.php`~~ â†’ `event_view.php`ì— í†µí•© âœ…
> **ë³€ê²½**: ë³„ë„ íŒŒì¼ ëŒ€ì‹  `event_view.php?type=global&rsc_bbs_idx=N` ìœ¼ë¡œ í†µí•© êµ¬í˜„
- âœ… `event_view.php`ì—ì„œ `type=global` íŒŒë¼ë¯¸í„°ë¡œ `v3_rsc_global_event_bbs` í…Œì´ë¸” ì¡°íšŒ
- âœ… ê´€ë ¨ ì½˜í…ì¸ ë„ ê¸€ë¡œë²Œ í…Œì´ë¸”ì—ì„œ ì¡°íšŒ

#### 3-3. `replay_view.php` (ì˜ìƒ ìƒì„¸) `[Sonnet]`
- âœ… ê¸°ì¤€ êµ¬ì¡° ê¸°ë°˜ PHP ê³¨ê²© ì‘ì„±
- âœ… SEO ë™ì  ë¡œë”© (ì˜ìƒ ì œëª© ê¸°ë°˜ OG íƒœê·¸)
- âœ… `rsc_bbs_idx` íŒŒë¼ë¯¸í„° ê²€ì¦ + ê¶Œí•œ ì²´í¬ (ë¹„ê³µê°œ=ê´€ë¦¬ìë§Œ)
- âœ… YouTube ì„ë² ë“œ í”Œë ˆì´ì–´ ë Œë”ë§ (`v4_youtube_embed_id()` í—¬í¼ ì‚¬ìš©)
- âœ… ë°œí‘œì(`speker`), ì´ë²¤íŠ¸ ì œëª©(`event_title`) í‘œì‹œ
- âœ… PDF ìë£Œ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ (`pdf_url`)
- âœ… ì¹´í…Œê³ ë¦¬ íƒœê·¸ í‘œì‹œ (ì‚°ì—…ë¶„ì•¼/ì œí’ˆêµ°/ì£¼ì œ)
- âœ… ì†Œì…œ ê³µìœ  (Facebook, Twitter, URL ë³µì‚¬)
- âœ… ê´€ë ¨ ë¦¬í”Œë ˆì´ 3ê°œ

#### 3-4. `news_view.php` (ë‰´ìŠ¤ ìƒì„¸) `[Sonnet]`
- âœ… ê¸°ì¤€ êµ¬ì¡° ê¸°ë°˜ PHP ê³¨ê²© ì‘ì„±
- âœ… SEO ë™ì  ë¡œë”© (ë‰´ìŠ¤ ì œëª© ê¸°ë°˜ OG íƒœê·¸)
- âœ… `rsc_bbs_idx` íŒŒë¼ë¯¸í„° ê²€ì¦ + ê¶Œí•œ ì²´í¬
- âœ… ë³¸ë¬¸ ì½˜í…ì¸  ë Œë”ë§
- âœ… ì¹´í…Œê³ ë¦¬ ë°°ì§€ + íƒœê·¸ í‘œì‹œ (ì‰¼í‘œ êµ¬ë¶„)
- âœ… ì†Œì…œ ê³µìœ  (Facebook, Twitter, URL ë³µì‚¬)
- âœ… ê´€ë ¨ ë‰´ìŠ¤ 3ê°œ

#### 3-5. `free_view.php` (ë¬´ë£Œì½˜í…ì¸  ìƒì„¸) `[Sonnet]`
- âœ… ê¸°ì¤€ êµ¬ì¡° ê¸°ë°˜ PHP ê³¨ê²© ì‘ì„±
- âœ… SEO ë™ì  ë¡œë”©
- âœ… `rsc_bbs_idx` íŒŒë¼ë¯¸í„° ê²€ì¦ + ê¶Œí•œ ì²´í¬
- âœ… YouTube ì„ë² ë“œ (`v4_youtube_embed_id()`) + ì™¸ë¶€ ë§í¬ ë¶„ê¸° ë Œë”ë§
- âœ… ì¹´í…Œê³ ë¦¬ íƒœê·¸ (ì‚°ì—…ë¶„ì•¼/ì œí’ˆêµ°/ì£¼ì œ/ì—”ì§„ë²„ì „ â€” 4ì¢…)
- âœ… ì†Œì…œ ê³µìœ  + ê´€ë ¨ ë¬´ë£Œìë£Œ 3ê°œ

#### 3-6. `book_view.php` (ë°±ì„œ ìƒì„¸) `[Sonnet]`
- âœ… ê¸°ì¤€ êµ¬ì¡° ê¸°ë°˜ PHP ê³¨ê²© ì‘ì„±
- âœ… SEO ë™ì  ë¡œë”©
- âœ… `rsc_bbs_idx` íŒŒë¼ë¯¸í„° ê²€ì¦ + ê¶Œí•œ ì²´í¬
- âœ… YouTube ì„ë² ë“œ (`v4_youtube_embed_id()`) + ì™¸ë¶€ ë§í¬ ë¶„ê¸° ë Œë”ë§
- âœ… ì¹´í…Œê³ ë¦¬ íƒœê·¸ (ì‚°ì—…ë¶„ì•¼/ì œí’ˆêµ°/ì£¼ì œ â€” 3ì¢…)
- âœ… ì†Œì…œ ê³µìœ  + ê´€ë ¨ ë„ì„œ 3ê°œ

---

### Phase 4: AJAX ì—”ë“œí¬ì¸íŠ¸ (`contents/v4/ajax/`)

#### 4-0. AJAX ê³µí†µ ë³´ì•ˆ íŒ¨í„´ `[Opus]` â† íŒ¨í„´ í™•ë¦½

> **ì›ì¹™**: ëª¨ë“  AJAX ì—”ë“œí¬ì¸íŠ¸ëŠ” ì½ê¸°ì „ìš©(SELECT)ì´ë¯€ë¡œ CSRF í† í°ì€ ë¶ˆí•„ìš”. ëŒ€ì‹  Referer + XHR í—¤ë” ê²€ì¦ì„ ì ìš©í•œë‹¤.
> ìƒíƒœ ë³€ê²½(ì´ë²¤íŠ¸ ì°¸ê°€ ì‹ ì²­ ë“± POST)ì—ë§Œ ê¸°ì¡´ GNU Board `get_token()` / `check_token()`ì„ ì‚¬ìš©í•œë‹¤.

```php
// AJAX ì—”ë“œí¬ì¸íŠ¸ ê³µí†µ ë³´ì•ˆ íŒ¨í„´
if ($_SERVER['REQUEST_METHOD'] !== 'POST') {
    http_response_code(405);
    exit;
}
if (empty($_SERVER['HTTP_X_REQUESTED_WITH']) ||
    $_SERVER['HTTP_X_REQUESTED_WITH'] !== 'XMLHttpRequest') {
    http_response_code(403);
    exit;
}
header('Content-Type: application/json; charset=utf-8');
```

- âœ… AJAX ê³µí†µ ë³´ì•ˆ íŒ¨í„´ í™•ë¦½ â†’ `v4_ajax_guard()` í•¨ìˆ˜ë¡œ êµ¬í˜„ (`v4_helpers.php`)
- âœ… `json_encode()` ê¸°ë°˜ JSON ì‘ë‹µ íŒ¨í„´ í™•ë¦½

#### 4-0b. `event.ajax.php` (ì´ë²¤íŠ¸ í•„í„°) `[Opus]` â† ì¶”ê°€ ìƒì„±
> **ì¶”ê°€**: ì›ì•ˆì— ì—†ì—ˆìœ¼ë‚˜, event_list.phpì˜ ì¹´í…Œê³ ë¦¬íƒ­/ìƒíƒœíƒ­/ë”ë³´ê¸°ë¥¼ ìœ„í•´ í•„ìš”
- âœ… `v4_ajax_guard()` ë³´ì•ˆ ê²€ì¦ ì ìš©
- âœ… ì¹´í…Œê³ ë¦¬(community/global) + ìƒíƒœ í•„í„° + í˜ì´ì§€ë„¤ì´ì…˜
- âœ… `render_event_card()` HTML + `json_encode()` JSON ì‘ë‹µ

#### 4-1. `replay.ajax.php` (ì˜ìƒ í•„í„°) `[Opus]` â† íŒ¨í„´ í™•ë¦½
- âœ… `v4_ajax_guard()` ë³´ì•ˆ ê²€ì¦ ì ìš© (POST + XHR í—¤ë”)
- âœ… í•„í„° íŒŒë¼ë¯¸í„° ìˆ˜ì‹  (ì‚°ì—…ë¶„ì•¼/ì œí’ˆêµ°/ì£¼ì œ/ë‚œì´ë„/í‚¤ì›Œë“œ/í˜ì´ì§€)
- âœ… `v4_str()` / `v4_filter_array()` ë¡œ ì…ë ¥ê°’ sanitize
- âœ… `v4_where_like()` + `v4_limit()` ë¡œ ì¿¼ë¦¬ ë¹Œë“œ â†’ `sql_query()` ì‹¤í–‰
- âœ… `render_resource_card()` HTML ë Œë”ë§ + `json_encode()` JSON ì‘ë‹µ
- âœ… ì‘ë‹µ í˜•ì‹: `{success, html, total_count, has_more}`

#### 4-2. `news.ajax.php` (ë‰´ìŠ¤ í•„í„°) `[Sonnet]`
- âœ… `v4_ajax_guard()` ë³´ì•ˆ ê²€ì¦ ì ìš©
- âœ… í•„í„° íŒŒë¼ë¯¸í„° ìˆ˜ì‹  (í‚¤ì›Œë“œ/í˜ì´ì§€)
- âœ… `v4_str()` sanitize + `sql_query()` ì¿¼ë¦¬
- âœ… `render_resource_card()` HTML + `json_encode()` JSON ì‘ë‹µ

#### 4-3. `free.ajax.php` (ë¬´ë£Œì½˜í…ì¸  í•„í„°) `[Sonnet]`
- âœ… `v4_ajax_guard()` ë³´ì•ˆ ê²€ì¦ ì ìš©
- âœ… í•„í„° íŒŒë¼ë¯¸í„° ìˆ˜ì‹  (ì‚°ì—…ë¶„ì•¼/ì œí’ˆêµ°/ì£¼ì œ/ì—”ì§„ë²„ì „/í‚¤ì›Œë“œ/í˜ì´ì§€)
- âœ… `v4_str()` sanitize + `v4_where_like()` + `sql_query()` ì¿¼ë¦¬
- âœ… `render_resource_card()` HTML + `json_encode()` JSON ì‘ë‹µ

#### 4-4. `book.ajax.php` (ë°±ì„œ í•„í„°) `[Sonnet]`
- âœ… `v4_ajax_guard()` ë³´ì•ˆ ê²€ì¦ ì ìš©
- âœ… í•„í„° íŒŒë¼ë¯¸í„° ìˆ˜ì‹  (ì‚°ì—…ë¶„ì•¼/ì œí’ˆêµ°/ì£¼ì œ/í‚¤ì›Œë“œ/í˜ì´ì§€)
- âœ… `v4_str()` sanitize + `v4_where_like()` + `sql_query()` ì¿¼ë¦¬
- âœ… `render_resource_card()` HTML + `json_encode()` JSON ì‘ë‹µ

#### 4-5. ~~ê²€ìƒ‰ AJAX (3ê°œ)~~ â†’ `search.ajax.php` 1ê°œë¡œ í†µí•© âœ…
> **ë³€ê²½**: 3ê°œ íŒŒì¼ ëŒ€ì‹  `search.ajax.php` 1ê°œì—ì„œ 5ê°œ í…Œì´ë¸”(ë‰´ìŠ¤/ì´ë²¤íŠ¸/ë¦¬í”Œë ˆì´/ë¬´ë£Œ/ë°±ì„œ) ë™ì‹œ ê²€ìƒ‰
- âœ… `search.ajax.php` â€” í†µí•© ê²€ìƒ‰ AJAX (`section` íŒŒë¼ë¯¸í„°ë¡œ ê°œë³„/ì „ì²´ ë¶„ê¸°)
- âœ… `v4_ajax_guard()` ë³´ì•ˆ ê²€ì¦ ì ìš©
- âœ… `v4_str()` sanitize + 5ê°œ í…Œì´ë¸” ë™ì‹œ ì¿¼ë¦¬
- âœ… `render_search_result_card()` â€” ê²€ìƒ‰ ì „ìš© ì¹´ë“œ ë Œë”ë§ (í‚¤ì›Œë“œ í•˜ì´ë¼ì´íŒ…)
- âœ… ì‘ë‹µ í˜•ì‹: `{success, keyword, total_all, sections: {news: {label, total, html, has_more}, ...}}`

---

### Phase 5: ê²€ìƒ‰ + ì •ì  (`contents/v4/`)

#### 5-1. `total_search.php` (í†µí•© ê²€ìƒ‰) `[Opus]` â† 5í…Œì´ë¸” í•©ì‚° ë³µí•© ë¡œì§
> **ë³€ê²½**: `search.php` â†’ `total_search.php`ë¡œ ëª…ëª… (ë ˆê±°ì‹œì™€ ì¼ê´€ì„± ìœ ì§€)
- âœ… ê¸°ì¤€ êµ¬ì¡° ê¸°ë°˜ PHP ê³¨ê²© ì‘ì„±
- âœ… SEO ë™ì  ë¡œë”©
- âœ… ê²€ìƒ‰ í‚¤ì›Œë“œ ì…ë ¥ í¼ (`v4_str()` sanitize ì ìš©)
- âœ… 5ê°œ ì„¹ì…˜ íƒ­ êµ¬í˜„ (ìƒˆì†Œì‹ / ì´ë²¤íŠ¸ / ë‹¤ì‹œë³´ê¸° / ë¬´ë£Œì½˜í…ì¸  / ë°±ì„œ)
- âœ… ì´ˆê¸° ê²€ìƒ‰ ê²°ê³¼ ì„œë²„ì‚¬ì´ë“œ ë Œë”ë§
- âœ… í‚¤ì›Œë“œ í•˜ì´ë¼ì´íŒ… (`v4_highlight()` í•¨ìˆ˜)
- âœ… ì´ ê²€ìƒ‰ ê±´ìˆ˜ í‘œì‹œ (ì„¹ì…˜ë³„ ì¹´ìš´íŠ¸)
- âœ… ì„¹ì…˜ë³„ ë”ë³´ê¸° â†’ `ajax/search.ajax.php` (í†µí•©) ì—°ë™

#### 5-2. `personal.php` (ê°œì¸ì •ë³´ë³´í˜¸ì •ì±…) `[Sonnet]`
- âœ… ê¸°ì¤€ êµ¬ì¡° ê¸°ë°˜ PHP ê³¨ê²© ì‘ì„± (v4 íŒ¨í„´: common_header26 + detail.css)
- âœ… SEO ë™ì  ë¡œë”© (v3_seo_config â†’ personal)
- âœ… ê¸°ì¡´ ë‚´ìš© ì´ê´€ (2022.04.03 ê¸°ì¤€ ì›ë³¸ ê·¸ëŒ€ë¡œ ìœ ì§€)
- âœ… ìŠ¤íƒ€ì¼ ì ìš© (v4-detail-content íƒ€ì´í¬ê·¸ë˜í”¼ ìë™ ì ìš©)

#### 5-3. `ode.php` (ì´ìš©ì•½ê´€) `[Sonnet]`
- âœ… ê¸°ì¤€ êµ¬ì¡° ê¸°ë°˜ PHP ê³¨ê²© ì‘ì„± (v4 íŒ¨í„´: common_header26 + detail.css)
- âœ… SEO ë™ì  ë¡œë”© (v3_seo_config â†’ ode)
- âœ… ê¸°ì¡´ ë‚´ìš© ì´ê´€ (ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ ë§í¬ë¥¼ v4 ê²½ë¡œë¡œ ì—…ë°ì´íŠ¸)
- âœ… ìŠ¤íƒ€ì¼ ì ìš©

---

### Phase 6: í†µí•© í…ŒìŠ¤íŠ¸ (ğŸ­ Playwright MCP + ğŸ” Ralph Loop)

> **Ralph Loop í™œìš©**: Phase 6 ì „ì²´ë¥¼ Ralph Loopë¡œ ì‹¤í–‰í•œë‹¤. "í…ŒìŠ¤íŠ¸ â†’ ë²„ê·¸ ë°œê²¬ â†’ ìˆ˜ì • â†’ ì¬í…ŒìŠ¤íŠ¸" ë°˜ë³µ ë£¨í”„ì— ìµœì .
> ```
> /ralph-loop "contents/v4/ ì „ì²´ í˜ì´ì§€ë¥¼ Playwrightë¡œ í…ŒìŠ¤íŠ¸í•˜ê³ 
> ë°œê²¬ëœ ë²„ê·¸ë¥¼ ìˆ˜ì •í•´ë¼. ëª¨ë“  í˜ì´ì§€ì—ì„œ JS ì—ëŸ¬ 0ê±´,
> AJAX 200 ì‘ë‹µ, ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ ì •ìƒì´ë©´
> <promise>ALL TESTS PASS</promise> ì¶œë ¥."
> --max-iterations 15 --completion-promise "ALL TESTS PASS"
> ```

#### 6-1. ğŸ­ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ (Playwright ìë™í™”) `[Ralph Loop]`
- â¬œ **í˜ì´ì§€ ë¡œë”© ê²€ì¦** - ì „ í˜ì´ì§€ `browser_navigate` â†’ `browser_snapshot`ìœ¼ë¡œ ì£¼ìš” ìš”ì†Œ ì¡´ì¬ í™•ì¸
- â¬œ **JS ì—ëŸ¬ ê²€ì¦** - ì „ í˜ì´ì§€ `browser_console_messages(level: "error")` â†’ ì—ëŸ¬ 0ê±´ í™•ì¸
- â¬œ **í•„í„° í…ŒìŠ¤íŠ¸** - `browser_snapshot`ìœ¼ë¡œ í•„í„° ì²´í¬ë°•ìŠ¤ ref í™•ì¸ â†’ `browser_click` â†’ ì¹´ë“œ ëª©ë¡ ë³€ê²½ í™•ì¸
- â¬œ **ë”ë³´ê¸° í…ŒìŠ¤íŠ¸** - ë”ë³´ê¸° ë²„íŠ¼ `browser_click` â†’ `browser_wait_for` â†’ ì¹´ë“œ ìˆ˜ ì¦ê°€ í™•ì¸
- â¬œ **AJAX ê²€ì¦** - `browser_network_requests` â†’ AJAX í˜¸ì¶œ ìƒíƒœì½”ë“œ 200 + ì‘ë‹µ ë°ì´í„° í™•ì¸
- â¬œ **í‚¤ì›Œë“œ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸** - ê²€ìƒ‰ë°” `browser_type` â†’ submit â†’ ê²°ê³¼ `browser_snapshot` í™•ì¸
- â¬œ **ë·° ì „í™˜ í…ŒìŠ¤íŠ¸** - ê°¤ëŸ¬ë¦¬ë·°/ë¦¬ìŠ¤íŠ¸ë·° ë²„íŠ¼ `browser_click` â†’ DOM í´ë˜ìŠ¤ ë³€ê²½ í™•ì¸
- â¬œ **SNS ê³µìœ  í…ŒìŠ¤íŠ¸** - ê³µìœ  ë²„íŠ¼ `browser_click` â†’ ê³µìœ  íŒì—…/ëª¨ë‹¬ ë…¸ì¶œ í™•ì¸
- â¬œ **ë‹¤í¬ëª¨ë“œ í…ŒìŠ¤íŠ¸** - í…Œë§ˆ í† ê¸€ `browser_click` â†’ `browser_take_screenshot` â†’ ìŠ¤íƒ€ì¼ ë³€ê²½ í™•ì¸

#### 6-2. ë³´ì•ˆ í…ŒìŠ¤íŠ¸ `[Ralph Loop]`
- â¬œ SQL Injection í…ŒìŠ¤íŠ¸ (í•„í„°, ê²€ìƒ‰, idx íŒŒë¼ë¯¸í„°ì— ì•…ì„± ì…ë ¥)
- â¬œ XSS í…ŒìŠ¤íŠ¸ (ê²€ìƒ‰ í‚¤ì›Œë“œ, URL íŒŒë¼ë¯¸í„°ì— ìŠ¤í¬ë¦½íŠ¸ ì‚½ì…)
  - â¬œ ğŸ­ `browser_type`ìœ¼ë¡œ `<script>alert(1)</script>` ì…ë ¥ â†’ ì‹¤í–‰ ì•ˆ ë˜ëŠ”ì§€ í™•ì¸
- â¬œ AJAX ë³´ì•ˆ ê²€ì¦ í…ŒìŠ¤íŠ¸ (XHR í—¤ë” ì—†ì´ ì§ì ‘ í˜¸ì¶œ â†’ 403 ê±°ë¶€ í™•ì¸)
  - â¬œ ğŸ­ `browser_evaluate`ë¡œ X-Requested-With ì—†ëŠ” fetch í˜¸ì¶œ â†’ 403 ì‘ë‹µ í™•ì¸
- â¬œ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” idx ì ‘ê·¼ ì‹œ ì ì ˆí•œ ì—ëŸ¬ ì²˜ë¦¬ í™•ì¸
  - â¬œ ğŸ­ `browser_navigate(?idx=99999)` â†’ ì—ëŸ¬ í˜ì´ì§€ ë˜ëŠ” ë¦¬ë‹¤ì´ë ‰íŠ¸ í™•ì¸

#### 6-3. ğŸ­ ë°˜ì‘í˜• UI í…ŒìŠ¤íŠ¸ (Playwright ìë™ ìº¡ì²˜) `[Ralph Loop]`
- â¬œ **ë°ìŠ¤í¬í†±** - `browser_resize(1920, 1080)` â†’ ì „ í˜ì´ì§€ ìŠ¤í¬ë¦°ìƒ·
- â¬œ **ë°ìŠ¤í¬í†± ì†Œ** - `browser_resize(1440, 900)` â†’ ì „ í˜ì´ì§€ ìŠ¤í¬ë¦°ìƒ·
- â¬œ **ë…¸íŠ¸ë¶** - `browser_resize(1280, 720)` â†’ ì „ í˜ì´ì§€ ìŠ¤í¬ë¦°ìƒ·
- â¬œ **íƒœë¸”ë¦¿ ê°€ë¡œ** - `browser_resize(1024, 768)` â†’ ì „ í˜ì´ì§€ ìŠ¤í¬ë¦°ìƒ·
- â¬œ **íƒœë¸”ë¦¿ ì„¸ë¡œ** - `browser_resize(768, 1024)` â†’ ì „ í˜ì´ì§€ ìŠ¤í¬ë¦°ìƒ·
- â¬œ **ëª¨ë°”ì¼** - `browser_resize(375, 812)` â†’ ì „ í˜ì´ì§€ ìŠ¤í¬ë¦°ìƒ·
- â¬œ ë°°ë„ˆ ìŠ¬ë¼ì´ë“œ ë™ì‘ í™•ì¸ (ê° í•´ìƒë„ì—ì„œ)
- â¬œ ì‚¬ì´ë“œë°” sticky ë™ì‘ í™•ì¸ / ëª¨ë°”ì¼ì—ì„œ ì ‘í˜ í™•ì¸
- â¬œ ë ˆê±°ì‹œ ìŠ¤í¬ë¦°ìƒ·(`_test/screenshots/legacy/`)ê³¼ v4 ìŠ¤í¬ë¦°ìƒ· ì‹œê°ì  ë¹„êµ
- â¬œ `_test/screenshots/v4/` ì— ìµœì¢… ìº¡ì²˜ë³¸ ì €ì¥

#### 6-4. í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸ `[Ralph Loop]`
> PlaywrightëŠ” Chromium / Firefox / WebKit 3ê°œ ì—”ì§„ ì§€ì›
- â¬œ Chromium (Chrome/Edge ëŒ€ì‘) - ì „ í˜ì´ì§€ ìŠ¤í¬ë¦°ìƒ· + ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- â¬œ WebKit (Safari ëŒ€ì‘) - ì „ í˜ì´ì§€ ìŠ¤í¬ë¦°ìƒ· + ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- â¬œ Firefox - ì „ í˜ì´ì§€ ìŠ¤í¬ë¦°ìƒ· + ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- â¬œ ëª¨ë°”ì¼ ì—ë®¬ë ˆì´ì…˜ (iOS Safari viewport) - ì£¼ìš” í˜ì´ì§€ í™•ì¸
- â¬œ ëª¨ë°”ì¼ ì—ë®¬ë ˆì´ì…˜ (Android Chrome viewport) - ì£¼ìš” í˜ì´ì§€ í™•ì¸

#### 6-5. ì„±ëŠ¥ í™•ì¸ `[Ralph Loop]`
- â¬œ ğŸ­ `browser_network_requests` â†’ í˜ì´ì§€ë³„ ìš”ì²­ ìˆ˜/ìš©ëŸ‰ í™•ì¸
- â¬œ ğŸ­ `browser_evaluate` â†’ `performance.timing` ìœ¼ë¡œ ë¡œë”© ì‹œê°„ ì¸¡ì •
- â¬œ AJAX ì‘ë‹µ ì†ë„ í™•ì¸ (ë„¤íŠ¸ì›Œí¬ íƒ­ì—ì„œ ì‘ë‹µ ì‹œê°„)
- â¬œ ì´ë¯¸ì§€ ë¡œë”© ìµœì í™” í™•ì¸ (lazy loading ë™ì‘ ì—¬ë¶€)
- â¬œ ë ˆê±°ì‹œ ëŒ€ë¹„ ê°œì„  ì—¬ë¶€ ë¹„êµ

---

### Phase 7: ìš´ì˜ ì „í™˜

#### 7-1. ì „í™˜ ì¤€ë¹„ `[Sonnet]`
- â¬œ `contents/v4/` ì „ì²´ íŒŒì¼ ìµœì¢… ì ê²€
- â¬œ ë¶ˆí•„ìš”í•œ ë””ë²„ê·¸ ì½”ë“œ / console.log ì œê±°
  - â¬œ ğŸ­ `browser_console_messages(level: "debug")` â†’ ë””ë²„ê·¸ ë¡œê·¸ ì”ì¡´ í™•ì¸
- â¬œ ìš´ì˜ ì„œë²„ ë°±ì—… ê³„íš ìˆ˜ë¦½

#### 7-2. ì „í™˜ ì‹¤í–‰ `[Sonnet]`
- â¬œ ê¸°ì¡´ `contents/` â†’ `contents/legacy/` ë°±ì—… (mv)
- â¬œ `contents/v4/` â†’ `contents/` êµì²´ (mv)
- â¬œ íŒŒì¼ ê²½ë¡œ ì°¸ì¡° ì ê²€ (`../` ê²½ë¡œ ë“±ì´ ê¹¨ì§€ì§€ ì•ŠëŠ”ì§€)
- â¬œ ë ˆê±°ì‹œ JS/CSS íŒŒì¼ ì°¸ì¡°ê°€ ë‚¨ì•„ìˆì§€ ì•Šì€ì§€ í™•ì¸

#### 7-3. ğŸ­ ìš´ì˜ ê²€ì¦ (Playwright ìë™ ìˆœíšŒ) `[Sonnet â†’ Opus(ë¬¸ì œ ì‹œ)]`
- â¬œ **ì „ í˜ì´ì§€ ì ‘ì† ê²€ì¦** - ëª¨ë“  URL `browser_navigate` â†’ `browser_network_requests`ë¡œ HTTP 200 í™•ì¸
- â¬œ **JS ì—ëŸ¬ ì œë¡œ í™•ì¸** - `browser_console_messages(level: "error")` â†’ ì—ëŸ¬ 0ê±´
- â¬œ **ì£¼ìš” ìš”ì†Œ ì¡´ì¬ í™•ì¸** - `browser_snapshot` â†’ í—¤ë”/ì½˜í…ì¸ /í‘¸í„° ì •ìƒ ë Œë”ë§
- â¬œ **AJAX ì—”ë“œí¬ì¸íŠ¸ í™•ì¸** - í•„í„°/ë”ë³´ê¸° í´ë¦­ â†’ `browser_network_requests`ë¡œ ì‘ë‹µ í™•ì¸
- â¬œ **SEO ë©”íƒ€íƒœê·¸ í™•ì¸** - `browser_evaluate` â†’ `document.querySelector('meta[property="og:title"]')` ë“± í™•ì¸
- â¬œ **ë§ˆì¼€íŒ… ì½”ë“œ í™•ì¸** - `browser_evaluate` â†’ `window.dataLayer` (GTM), `fbq` (Pixel) ì¡´ì¬ í™•ì¸
- â¬œ **ìµœì¢… ìŠ¤í¬ë¦°ìƒ· ìº¡ì²˜** - ì „ í˜ì´ì§€ Desktop/Mobile ìŠ¤í¬ë¦°ìƒ· â†’ ì „í™˜ ì „ v4 ìº¡ì²˜ë³¸ê³¼ ë¹„êµ
- â¬œ ë¬¸ì œ ë°œìƒ ì‹œ ì¦‰ì‹œ ë¡¤ë°± (`contents/` â†’ `contents/v4/`, `contents/legacy/` â†’ `contents/`)
